<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç³ç³çš„æƒŠå–œ</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- Three.js -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/build/three.min.js"></script>
    <!-- GSAP åŠ¨ç”»åº“ -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#FF69B4', // ç²‰è‰²
                        secondary: '#9370DB', // ç´«è‰²
                        accent: '#FFB6C1', // æµ…ç²‰è‰²
                        light: '#FFF0F5', // æ·¡ç²‰è‰²
                        dark: '#4B0082', // æ·±ç´«è‰²
                    },
                    fontFamily: {
                        sans: ['Arial', 'sans-serif'],
                    },
                    animation: {
                        'float': 'float 3s ease-in-out infinite',
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        }
                    }
                }
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            .text-shadow {
                text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
            }
            .text-shadow-lg {
                text-shadow: 4px 4px 8px rgba(0, 0, 0, 0.3);
            }
            .bg-blur {
                backdrop-filter: blur(8px);
            }
            .heart-beat {
                animation: heartbeat 1.5s ease-in-out infinite;
            }
            @keyframes heartbeat {
                0% { transform: scale(1); }
                14% { transform: scale(1.1); }
                28% { transform: scale(1); }
                42% { transform: scale(1.15); }
                70% { transform: scale(1); }
            }
            .card-hover {
                transition: all 0.3s ease;
            }
            .card-hover:hover {
                transform: translateY(-5px);
                box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            }
            .gradient-text {
                background: linear-gradient(90deg, #FF69B4, #9370DB);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
            }
        }
    </style>
    
    <style>
        body {
            background-color: #FFF0F5;
            background-image: url('https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/ef77e284bc2e49df8087d14b4171bd38~tplv-a9rns2rl98-image.image?rcl=20251110202603EDE650AEE688A59E2299&rk3s=8e244e95&rrcfp=f06b921b&x-expires=1765369580&x-signature=eqDtOnpRb1t6qYAXwtCSWLCpyU8%3D');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        /* æ˜Ÿæ˜Ÿå’Œæµæ˜Ÿé›¨æ•ˆæœ */
        .star {
            position: absolute;
            background-color: white;
            border-radius: 50%;
            animation: twinkle 5s infinite ease-in-out;
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0.2; }
            50% { opacity: 1; }
        }
        
        .meteor {
            position: absolute;
            width: 2px;
            background: linear-gradient(90deg, transparent, white);
            animation: meteor 3s linear infinite;
        }
        
        @keyframes meteor {
            0% {
                transform: translateX(0) translateY(0);
                opacity: 1;
            }
            100% {
                transform: translateX(-1000px) translateY(1000px);
                opacity: 0;
            }
        }
        
        .heart {
            position: absolute;
            width: 20px;
            height: 20px;
            background-color: #FF69B4;
            transform: rotate(45deg);
            animation: float 3s infinite ease-in-out;
        }
        
        .heart:before, .heart:after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            background-color: #FF69B4;
            border-radius: 50%;
        }
        
        .heart:before {
            top: -10px;
            left: 0;
        }
        
        .heart:after {
            top: 0;
            left: -10px;
        }
        
        #heartContainer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 100;
        }
        
        .section {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s ease, transform 0.8s ease;
        }
        
        .section.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        .photo-frame {
            position: relative;
            display: inline-block;
        }
        
        .photo-frame img {
            display: block;
            border-radius: 8px;
        }
        
        .photo-frame::before {
            content: '';
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            background-image: url('https://p9-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/b0804c56b9d44d879667b853c27b3bf1~tplv-a9rns2rl98-image.image?rcl=20251110200546C43D08EB6DBCF40C6DD1&rk3s=8e244e95&rrcfp=f06b921b&x-expires=1765368370&x-signature=ty0veJyi7AmWmezUFuHDabguGeQ%3D');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            z-index: -1;
        }
        
        .mood-icon {
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        
        .mood-icon:hover {
            transform: scale(1.2);
        }
        
        .mood-icon.selected {
            transform: scale(1.2);
            box-shadow: 0 0 10px #FF69B4;
            border-radius: 50%;
        }
        
        .chat-bubble {
            position: relative;
            padding: 15px;
            border-radius: 18px;
            max-width: 80%;
            word-wrap: break-word;
        }
        
        .chat-bubble.sent {
            background-color: #FFB6C1;
            margin-left: auto;
            border-bottom-right-radius: 5px;
        }
        
        .chat-bubble.received {
            background-color: #E6E6FA;
            margin-right: auto;
            border-bottom-left-radius: 5px;
        }
        
        .progress-bar {
            height: 8px;
            background: linear-gradient(90deg, #FF69B4, #9370DB);
            border-radius: 4px;
            transition: width 1s ease;
        }
        
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #FF69B4;
            opacity: 0;
            animation: confetti-fall 3s linear forwards;
        }
        
        @keyframes confetti-fall {
            0% {
                transform: translateY(-100vh) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }
        
        #confettiContainer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1000;
        }
        
        /* 3D æ•ˆæœå®¹å™¨ */
        #canvas-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.5;
        }
    </style>
</head>
<body class="font-sans text-gray-800">
    <!-- 3D èƒŒæ™¯å®¹å™¨ -->
    <div id="canvas-container"></div>
    
    <!-- æ˜Ÿæ˜ŸèƒŒæ™¯å®¹å™¨ -->
    <div id="stars-container"></div>
    
    <!-- çˆ±å¿ƒåŠ¨ç”»å®¹å™¨ -->
    <div id="heartContainer"></div>
    
    <!-- åº†ç¥æ•ˆæœå®¹å™¨ -->
    <div id="confettiContainer"></div>
    
    <!-- éŸ³é¢‘å…ƒç´  -->
    <audio id="background-music" loop muted autoplay style="display: none;">
        <source src="proxy.php" type="audio/mpeg">
    </audio>
    
    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <nav class="bg-white bg-opacity-90 bg-blur sticky top-0 z-50 shadow-md rounded-b-3xl">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <div class="w-12 h-12 rounded-full bg-gradient-to-r from-primary to-secondary flex items-center justify-center shadow-lg">
                    <i class="fa fa-heart text-white text-2xl heart-beat"></i>
                </div>
                <h1 class="text-2xl font-bold gradient-text">ç³ç³çš„æƒŠå–œ</h1>
            </div>
            
            <div class="hidden md:flex items-center space-x-6">
                <a href="#home" class="text-gray-700 hover:text-primary transition-colors duration-300 font-medium flex items-center">
                    <i class="fa fa-home mr-1"></i> é¦–é¡µ
                </a>
                <a href="#messages" class="text-gray-700 hover:text-primary transition-colors duration-300 font-medium flex items-center">
                    <i class="fa fa-comment mr-1"></i> æš–å¿ƒè¯è¯­
                </a>
                <a href="#jokes" class="text-gray-700 hover:text-primary transition-colors duration-300 font-medium flex items-center">
                    <i class="fa fa-smile-o mr-1"></i> å¹½é»˜ç¬‘è¯
                </a>
                <a href="#questions" class="text-gray-700 hover:text-primary transition-colors duration-300 font-medium flex items-center">
                    <i class="fa fa-question-circle mr-1"></i> äº’åŠ¨é—®ç­”
                </a>
                <a href="#diary" class="text-gray-700 hover:text-primary transition-colors duration-300 font-medium flex items-center">
                    <i class="fa fa-book mr-1"></i> å¿ƒæƒ…æ—¥è®°
                </a>
                <a href="#photos" class="text-gray-700 hover:text-primary transition-colors duration-300 font-medium flex items-center">
                    <i class="fa fa-camera mr-1"></i> ç…§ç‰‡å¢™
                </a>
                <a href="#personality" class="text-gray-700 hover:text-primary transition-colors duration-300 font-medium flex items-center">
                    <i class="fa fa-star mr-1"></i> æ€§æ ¼æµ‹è¯•
                </a>
                <a href="#fun" class="text-gray-700 hover:text-primary transition-colors duration-300 font-medium flex items-center">
                    <i class="fa fa-gamepad mr-1"></i> è¶£å‘³äº’åŠ¨
                </a>
                <button id="music-toggle" class="bg-primary bg-opacity-10 text-primary p-2 rounded-full hover:bg-opacity-20 transition-colors">
                    <i class="fa fa-music"></i>
                </button>
            </div>
            
            <div class="md:hidden flex items-center space-x-3">
                <button id="mobile-music-toggle" class="bg-primary bg-opacity-10 text-primary p-2 rounded-full hover:bg-opacity-20 transition-colors">
                    <i class="fa fa-music"></i>
                </button>
                <button id="mobile-menu-button" class="text-gray-700 hover:text-primary focus:outline-none">
                    <i class="fa fa-bars text-xl"></i>
                </button>
            </div>
        </div>
        
        <!-- ç§»åŠ¨ç«¯èœå• -->
        <div id="mobile-menu" class="hidden md:hidden bg-white shadow-lg absolute w-full rounded-b-3xl">
            <div class="container mx-auto px-4 py-2 flex flex-col space-y-2">
                <a href="#home" class="text-gray-700 hover:text-primary transition-colors duration-300 py-3 px-4 rounded-lg hover:bg-light flex items-center">
                    <i class="fa fa-home mr-2 w-5 text-center"></i> é¦–é¡µ
                </a>
                <a href="#messages" class="text-gray-700 hover:text-primary transition-colors duration-300 py-3 px-4 rounded-lg hover:bg-light flex items-center">
                    <i class="fa fa-comment mr-2 w-5 text-center"></i> æš–å¿ƒè¯è¯­
                </a>
                <a href="#jokes" class="text-gray-700 hover:text-primary transition-colors duration-300 py-3 px-4 rounded-lg hover:bg-light flex items-center">
                    <i class="fa fa-smile-o mr-2 w-5 text-center"></i> å¹½é»˜ç¬‘è¯
                </a>
                <a href="#questions" class="text-gray-700 hover:text-primary transition-colors duration-300 py-3 px-4 rounded-lg hover:bg-light flex items-center">
                    <i class="fa fa-question-circle mr-2 w-5 text-center"></i> äº’åŠ¨é—®ç­”
                </a>
                <a href="#diary" class="text-gray-700 hover:text-primary transition-colors duration-300 py-3 px-4 rounded-lg hover:bg-light flex items-center">
                    <i class="fa fa-book mr-2 w-5 text-center"></i> å¿ƒæƒ…æ—¥è®°
                </a>
                <a href="#photos" class="text-gray-700 hover:text-primary transition-colors duration-300 py-3 px-4 rounded-lg hover:bg-light flex items-center">
                    <i class="fa fa-camera mr-2 w-5 text-center"></i> ç…§ç‰‡å¢™
                </a>
                <a href="#personality" class="text-gray-700 hover:text-primary transition-colors duration-300 py-3 px-4 rounded-lg hover:bg-light flex items-center">
                    <i class="fa fa-star mr-2 w-5 text-center"></i> æ€§æ ¼æµ‹è¯•
                </a>
                <a href="#fun" class="text-gray-700 hover:text-primary transition-colors duration-300 py-3 px-4 rounded-lg hover:bg-light flex items-center">
                    <i class="fa fa-gamepad mr-2 w-5 text-center"></i> è¶£å‘³äº’åŠ¨
                </a>
            </div>
        </div>
    </nav>
    
    <!-- é¦–é¡µ/æ¬¢è¿åŒºåŸŸ -->
    <section id="home" class="relative min-h-screen flex items-center justify-center py-16 px-4">
        <div class="container mx-auto text-center">
            <div class="mb-8 animate-float">
                <img src="https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/6570c351113547489992a35571ad7712~tplv-a9rns2rl98-image.image?rcl=202511102019348262C5E6C6649F9E1E04&rk3s=8e244e95&rrcfp=f06b921b&x-expires=1765369207&x-signature=wjmxetc4pqp8bmvbGvCTPtkBb1Q%3D" 
                     alt="ç³ç³çš„æƒŠå–œ" 
                     class="w-full max-w-md mx-auto rounded-xl shadow-2xl">
            </div>
            
            <h1 class="text-4xl md:text-5xl font-bold mb-6 text-shadow-lg">
                <span class="gradient-text">å—¨ï¼Œç³ç³ï¼</span>
            </h1>
            
            <p class="text-xl md:text-2xl mb-8 max-w-2xl mx-auto text-gray-700">
                è¿™æ˜¯ä¸€ä¸ªä¸“é—¨ä¸ºä½ æ‰“é€ çš„å°å¤©åœ°ï¼Œå¸Œæœ›èƒ½ç»™ä½ å¸¦æ¥å¿«ä¹å’Œæ¸©æš– â¤ï¸
            </p>
            
            <div class="flex flex-col md:flex-row justify-center gap-4">
                <button id="start-journey-btn" class="bg-gradient-to-r from-primary to-secondary text-white font-bold py-3 px-8 rounded-full shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all duration-300">
                    å¼€å§‹æ¢ç´¢ <i class="fa fa-arrow-right ml-2"></i>
                </button>
                
                <button id="surprise-btn" class="bg-white text-primary border-2 border-primary font-bold py-3 px-8 rounded-full shadow-md hover:shadow-lg transform hover:-translate-y-1 transition-all duration-300">
                    æƒŠå–œå½©è›‹ <i class="fa fa-gift ml-2"></i>
                </button>
            </div>
            
            <div class="mt-16">
                <div class="inline-block bg-white bg-opacity-70 backdrop-blur-sm rounded-full px-6 py-3 shadow-md">
                    <div class="flex items-center space-x-2 mb-2">
                        <div class="w-3 h-3 bg-green-500 rounded-full animate-pulse"></div>
                        <span class="text-sm font-medium">å¿ƒåŠ¨æŒ‡æ•°</span>
                    </div>
                    <div class="w-64 h-2 bg-gray-200 rounded-full overflow-hidden">
                        <div id="affection-meter" class="progress-bar w-1/4"></div>
                    </div>
                    <div class="text-right text-xs text-gray-500 mt-1">å½“å‰: <span id="affection-value">25%</span></div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- æš–å¿ƒè¯è¯­åŒºåŸŸ -->
    <section id="messages" class="py-16 px-4 section">
        <div class="container mx-auto">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold mb-4 gradient-text">æš–å¿ƒè¯è¯­</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">æ¯å¤©éƒ½æƒ³å‘Šè¯‰ä½ ä¸€äº›ç”œèœœçš„å°äº‹ï¼Œå¸Œæœ›è¿™äº›è¯è¯­èƒ½è®©ä½ æ„Ÿå—åˆ°æˆ‘çš„å¿ƒæ„</p>
            </div>
            
            <div class="bg-white rounded-2xl shadow-lg p-6 md:p-8 max-w-3xl mx-auto">
                <div id="message-display" class="min-h-[200px] flex items-center justify-center mb-6 p-4 bg-light rounded-xl">
                    <p class="text-center text-gray-600" id="current-message">
                        ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®ï¼Œè·å–ä»Šæ—¥çš„æš–å¿ƒè¯è¯­ â¤ï¸
                    </p>
                </div>
                
                <div class="flex flex-wrap gap-2 mb-6">
                    <button class="message-btn bg-primary bg-opacity-10 text-primary px-4 py-2 rounded-full text-sm hover:bg-opacity-20 transition-colors" data-category="sweet">ç”œèœœ</button>
                    <button class="message-btn bg-secondary bg-opacity-10 text-secondary px-4 py-2 rounded-full text-sm hover:bg-opacity-20 transition-colors" data-category="cute">å¯çˆ±</button>
                    <button class="message-btn bg-purple-400 bg-opacity-10 text-purple-400 px-4 py-2 rounded-full text-sm hover:bg-opacity-20 transition-colors" data-category="romantic">æµªæ¼«</button>
                    <button class="message-btn bg-pink-300 bg-opacity-10 text-pink-300 px-4 py-2 rounded-full text-sm hover:bg-opacity-20 transition-colors" data-category="encouraging">é¼“åŠ±</button>
                </div>
                
                <div class="flex justify-between">
                    <button id="prev-message" class="bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-2 px-4 rounded-lg transition-colors">
                        <i class="fa fa-arrow-left mr-2"></i> ä¸Šä¸€æ¡
                    </button>
                    
                    <button id="random-message" class="bg-gradient-to-r from-primary to-secondary text-white font-bold py-2 px-6 rounded-lg shadow-md hover:shadow-lg transform hover:-translate-y-1 transition-all">
                        éšæœºä¸€æ¡ <i class="fa fa-random ml-2"></i>
                    </button>
                    
                    <button id="next-message" class="bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-2 px-4 rounded-lg transition-colors">
                        ä¸‹ä¸€æ¡ <i class="fa fa-arrow-right ml-2"></i>
                    </button>
                </div>
                
                <div class="mt-8">
                    <h3 class="font-medium mb-3">æ·»åŠ è‡ªå·±çš„æš–å¿ƒè¯è¯­:</h3>
                    <div class="flex gap-2">
                        <input type="text" id="custom-message" placeholder="è¾“å…¥ä½ æƒ³å¯¹ç³ç³è¯´çš„è¯..." class="flex-1 border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                        <button id="add-message" class="bg-primary hover:bg-primary/90 text-white font-medium py-2 px-4 rounded-lg transition-colors">
                            æ·»åŠ  <i class="fa fa-plus ml-1"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- å¹½é»˜ç¬‘è¯åŒºåŸŸ -->
    <section id="jokes" class="py-16 px-4 bg-light section">
        <div class="container mx-auto">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold mb-4 gradient-text">å¹½é»˜ç¬‘è¯</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">ç¬‘ä¸€ç¬‘ï¼Œåå¹´å°‘ï¼å¸Œæœ›è¿™äº›ç¬‘è¯èƒ½è®©ä½ å¼€æ€€å¤§ç¬‘ ğŸ˜„</p>
            </div>
            
            <div class="bg-white rounded-2xl shadow-lg p-6 md:p-8 max-w-3xl mx-auto">
                <div id="joke-display" class="min-h-[150px] flex items-center justify-center mb-8 p-6 bg-light rounded-xl">
                    <p class="text-center text-gray-600" id="current-joke">
                        ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®ï¼Œè·å–ä»Šæ—¥çš„ç¬‘è¯ ğŸ˜Š
                    </p>
                </div>
                
                <div class="flex justify-center">
                    <button id="random-joke" class="bg-gradient-to-r from-primary to-secondary text-white font-bold py-3 px-8 rounded-lg shadow-md hover:shadow-lg transform hover:-translate-y-1 transition-all">
                        å†æ¥ä¸€ä¸ªç¬‘è¯ <i class="fa fa-smile-o ml-2"></i>
                    </button>
                </div>
                
                <div class="mt-8">
                    <div class="flex items-center mb-4">
                        <div class="flex items-center">
                            <i class="fa fa-star text-yellow-400"></i>
                            <i class="fa fa-star text-yellow-400"></i>
                            <i class="fa fa-star text-yellow-400"></i>
                            <i class="fa fa-star text-yellow-400"></i>
                            <i class="fa fa-star text-yellow-400"></i>
                        </div>
                        <span class="ml-2 text-gray-600" id="joke-rating">è¿™ä¸ªç¬‘è¯å¥½ç¬‘å—ï¼Ÿ</span>
                    </div>
                    
                    <div class="flex gap-2">
                        <button class="rating-btn flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-2 px-4 rounded-lg transition-colors" data-rating="funny">
                            <i class="fa fa-thumbs-up mr-2"></i> å¥½ç¬‘
                        </button>
                        <button class="rating-btn flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-2 px-4 rounded-lg transition-colors" data-rating="not-funny">
                            <i class="fa fa-thumbs-down mr-2"></i> ä¸€èˆ¬
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- äº’åŠ¨é—®ç­”åŒºåŸŸ -->
    <section id="questions" class="py-16 px-4 section">
        <div class="container mx-auto">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold mb-4 gradient-text">äº’åŠ¨é—®ç­”</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">æƒ³æ›´å¤šåœ°äº†è§£ä½ ï¼Œä¹Ÿå¸Œæœ›ä½ èƒ½äº†è§£æˆ‘ ğŸ˜Š</p>
            </div>
            
            <div class="bg-white rounded-2xl shadow-lg p-6 md:p-8 max-w-3xl mx-auto">
                <div class="mb-8">
                    <h3 class="font-bold text-xl mb-4" id="question-text">ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å¼€å§‹é—®ç­”å§ï¼</h3>
                    
                    <div id="answer-options" class="hidden space-y-3 mb-6">
                        <!-- é€‰é¡¹å°†é€šè¿‡ JavaScript åŠ¨æ€æ·»åŠ  -->
                    </div>
                    
                    <div id="custom-answer-container" class="hidden mb-6">
                        <textarea id="custom-answer" placeholder="å†™ä¸‹ä½ çš„å›ç­”..." class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"></textarea>
                    </div>
                </div>
                
                <div class="flex justify-between">
                    <button id="prev-question" class="bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-2 px-4 rounded-lg transition-colors" disabled>
                        <i class="fa fa-arrow-left mr-2"></i> ä¸Šä¸€é¢˜
                    </button>
                    
                    <button id="next-question" class="bg-gradient-to-r from-primary to-secondary text-white font-bold py-2 px-6 rounded-lg shadow-md hover:shadow-lg transform hover:-translate-y-1 transition-all">
                        å¼€å§‹é—®ç­” <i class="fa fa-play ml-2"></i>
                    </button>
                    
                    <button id="submit-answer" class="bg-primary hover:bg-primary/90 text-white font-medium py-2 px-4 rounded-lg transition-colors" disabled>
                        æäº¤ <i class="fa fa-check ml-2"></i>
                    </button>
                </div>
                
                <div class="mt-8 pt-6 border-t border-gray-200">
                    <h3 class="font-medium mb-4">æŸ¥çœ‹å†å²å›ç­”:</h3>
                    <div id="answers-history" class="max-h-[200px] overflow-y-auto p-4 bg-light rounded-xl">
                        <p class="text-center text-gray-500">æš‚æ— å›ç­”è®°å½•</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- å¿ƒæƒ…æ—¥è®°åŒºåŸŸ -->
    <section id="diary" class="py-16 px-4 bg-light section">
        <div class="container mx-auto">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold mb-4 gradient-text">å¿ƒæƒ…æ—¥è®°</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">è®°å½•æ¯å¤©çš„å¿ƒæƒ…ï¼Œåˆ†äº«ç”Ÿæ´»ä¸­çš„ç‚¹æ»´ âœ¨</p>
            </div>
            
            <div class="bg-white rounded-2xl shadow-lg p-6 md:p-8 max-w-3xl mx-auto">
                <div class="mb-6">
                    <h3 class="font-medium mb-3">ä»Šå¤©å¿ƒæƒ…å¦‚ä½•ï¼Ÿ</h3>
                    <div class="flex justify-center gap-6">
                        <div class="mood-icon flex flex-col items-center" data-mood="happy">
                            <img src="https://p9-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/a2bd76fc2a864549bd71d9d03da58629~tplv-a9rns2rl98-image.image?rcl=20251110200546C43D08EB6DBCF40C6DD1&rk3s=8e244e95&rrcfp=f06b921b&x-expires=1765368371&x-signature=OxXv6yxUryTSDzKVKz4edrS7%2BCE%3D" alt="å¼€å¿ƒ" class="w-16 h-16">
                            <span class="mt-2 text-sm">å¼€å¿ƒ</span>
                        </div>
                        <div class="mood-icon flex flex-col items-center" data-mood="shy">
                            <img src="https://p9-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/a2bd76fc2a864549bd71d9d03da58629~tplv-a9rns2rl98-image.image?rcl=20251110200546C43D08EB6DBCF40C6DD1&rk3s=8e244e95&rrcfp=f06b921b&x-expires=1765368371&x-signature=OxXv6yxUryTSDzKVKz4edrS7%2BCE%3D" alt="å®³ç¾" class="w-16 h-16">
                            <span class="mt-2 text-sm">å®³ç¾</span>
                        </div>
                        <div class="mood-icon flex flex-col items-center" data-mood="excited">
                            <img src="https://p9-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/a2bd76fc2a864549bd71d9d03da58629~tplv-a9rns2rl98-image.image?rcl=20251110200546C43D08EB6DBCF40C6DD1&rk3s=8e244e95&rrcfp=f06b921b&x-expires=1765368371&x-signature=OxXv6yxUryTSDzKVKz4edrS7%2BCE%3D" alt="å…´å¥‹" class="w-16 h-16">
                            <span class="mt-2 text-sm">å…´å¥‹</span>
                        </div>
                        <div class="mood-icon flex flex-col items-center" data-mood="love">
                            <img src="https://p9-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/a2bd76fc2a864549bd71d9d03da58629~tplv-a9rns2rl98-image.image?rcl=20251110200546C43D08EB6DBCF40C6DD1&rk3s=8e244e95&rrcfp=f06b921b&x-expires=1765368371&x-signature=OxXv6yxUryTSDzKVKz4edrS7%2BCE%3D" alt="çˆ±å¿ƒ" class="w-16 h-16">
                            <span class="mt-2 text-sm">çˆ±å¿ƒ</span>
                        </div>
                    </div>
                </div>
                
                <div class="mb-6">
                    <h3 class="font-medium mb-3">ä»Šæ—¥è®°å½•:</h3>
                    <textarea id="diary-entry" placeholder="ä»Šå¤©å‘ç”Ÿäº†ä»€ä¹ˆæœ‰è¶£çš„äº‹æƒ…ï¼Ÿå†™ä¸‹ä½ çš„æƒ³æ³•..." class="w-full h-32 border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"></textarea>
                </div>
                
                <div class="flex justify-end">
                    <button id="save-diary" class="bg-gradient-to-r from-primary to-secondary text-white font-bold py-2 px-6 rounded-lg shadow-md hover:shadow-lg transform hover:-translate-y-1 transition-all">
                        ä¿å­˜æ—¥è®° <i class="fa fa-save ml-2"></i>
                    </button>
                </div>
                
                <div class="mt-8 pt-6 border-t border-gray-200">
                    <h3 class="font-medium mb-4">å¿ƒæƒ…è®°å½•:</h3>
                    <div class="grid grid-cols-7 gap-2 mb-4">
                        <div class="text-center text-xs text-gray-500">æ—¥</div>
                        <div class="text-center text-xs text-gray-500">ä¸€</div>
                        <div class="text-center text-xs text-gray-500">äºŒ</div>
                        <div class="text-center text-xs text-gray-500">ä¸‰</div>
                        <div class="text-center text-xs text-gray-500">å››</div>
                        <div class="text-center text-xs text-gray-500">äº”</div>
                        <div class="text-center text-xs text-gray-500">å…­</div>
                        
                        <!-- æ—¥å†æ ¼å­å°†é€šè¿‡ JavaScript åŠ¨æ€æ·»åŠ  -->
                    </div>
                    
                    <div class="mt-6">
                        <canvas id="mood-chart" width="400" height="200"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- ç…§ç‰‡å¢™åŒºåŸŸ -->
    <section id="photos" class="py-16 px-4 section">
        <div class="container mx-auto">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold mb-4 gradient-text">ç…§ç‰‡å¢™</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">è®°å½•ç¾å¥½ç¬é—´ï¼Œåˆ†äº«å¿«ä¹æ—¶å…‰ ğŸ“¸</p>
            </div>
            
            <div class="bg-white rounded-2xl shadow-lg p-6 md:p-8 max-w-4xl mx-auto">
                <div class="mb-8">
                    <div class="flex justify-center mb-6">
                        <button id="upload-photo" class="bg-gradient-to-r from-primary to-secondary text-white font-bold py-2 px-6 rounded-lg shadow-md hover:shadow-lg transform hover:-translate-y-1 transition-all">
                            <i class="fa fa-upload mr-2"></i> ä¸Šä¼ ç…§ç‰‡
                        </button>
                        <input type="file" id="photo-input" accept="image/*" class="hidden">
                    </div>
                    
                    <div id="photo-preview" class="hidden mb-6 text-center">
                        <h3 class="font-medium mb-3">é¢„è§ˆ:</h3>
                        <img id="preview-image" src="" alt="é¢„è§ˆ" class="max-w-full max-h-64 mx-auto rounded-lg">
                    </div>
                    
                    <div id="photo-caption-container" class="hidden mb-6">
                        <input type="text" id="photo-caption" placeholder="æ·»åŠ  caption..." class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                    </div>
                </div>
                
                <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 mt-8" id="photo-gallery">
                    <!-- ç…§ç‰‡å°†é€šè¿‡ JavaScript åŠ¨æ€æ·»åŠ  -->
                    <div class="text-center col-span-full text-gray-500 py-8">
                        æš‚æ— ç…§ç‰‡ï¼Œä¸Šä¼ ç¬¬ä¸€å¼ ç…§ç‰‡å§ï¼
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- æ€§æ ¼æµ‹è¯•åŒºåŸŸ -->
    <section id="personality" class="py-16 px-4 section">
        <div class="container mx-auto">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold mb-4 gradient-text">æ€§æ ¼æµ‹è¯•</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">æƒ³çŸ¥é“ä½ æ˜¯ä»€ä¹ˆæ ·çš„æ€§æ ¼ç±»å‹å—ï¼Ÿæ¥æµ‹è¯•ä¸€ä¸‹å§ï¼</p>
            </div>
            
            <div class="bg-white rounded-2xl shadow-lg p-6 md:p-8 max-w-3xl mx-auto">
                <div id="personality-test-container">
                    <div id="test-start" class="text-center py-8">
                        <img src="https://p3-flow-imagex-sign.byteimg.com/tos-cn-i-a9rns2rl98/rc/pc/super_tool/a2bd76fc2a864549bd71d9d03da58629~tplv-a9rns2rl98-image.image?rcl=20251110200546C43D08EB6DBCF40C6DD1&rk3s=8e244e95&rrcfp=f06b921b&x-expires=1765368371&x-signature=OxXv6yxUryTSDzKVKz4edrS7%2BCE%3D" alt="æ€§æ ¼æµ‹è¯•" class="w-32 h-32 mx-auto mb-6">
                        <h3 class="text-xl font-bold mb-4">è¶£å‘³æ€§æ ¼æµ‹è¯•</h3>
                        <p class="text-gray-600 mb-6">å›ç­”å‡ ä¸ªç®€å•çš„é—®é¢˜ï¼Œçœ‹çœ‹ä½ æ˜¯ä»€ä¹ˆæ ·çš„æ€§æ ¼ç±»å‹ï¼</p>
                        <button id="start-test" class="bg-gradient-to-r from-primary to-secondary text-white font-bold py-3 px-8 rounded-lg shadow-md hover:shadow-lg transform hover:-translate-y-1 transition-all">
                            å¼€å§‹æµ‹è¯• <i class="fa fa-arrow-right ml-2"></i>
                        </button>
                    </div>
                    
                    <div id="test-questions" class="hidden">
                        <div class="mb-4 flex justify-between items-center">
                            <h3 class="font-bold text-lg" id="question-text-personality">é—®é¢˜ 1/5</h3>
                            <span class="text-sm text-gray-500" id="question-progress">1/5</span>
                        </div>
                        
                        <div id="personality-question-content" class="mb-6 p-4 bg-light rounded-xl">
                            <!-- é—®é¢˜å†…å®¹å°†é€šè¿‡ JavaScript åŠ¨æ€æ·»åŠ  -->
                        </div>
                        
                        <div id="personality-options" class="space-y-3 mb-8">
                            <!-- é€‰é¡¹å°†é€šè¿‡ JavaScript åŠ¨æ€æ·»åŠ  -->
                        </div>
                        
                        <div class="flex justify-between">
                            <button id="prev-personality-question" class="bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-2 px-4 rounded-lg transition-colors" disabled>
                                <i class="fa fa-arrow-left mr-2"></i> ä¸Šä¸€é¢˜
                            </button>
                            
                            <button id="next-personality-question" class="bg-gradient-to-r from-primary to-secondary text-white font-bold py-2 px-6 rounded-lg shadow-md hover:shadow-lg transform hover:-translate-y-1 transition-all">
                                ä¸‹ä¸€é¢˜ <i class="fa fa-arrow-right ml-2"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div id="test-result" class="hidden text-center py-8">
                        <div id="result-icon" class="w-32 h-32 mx-auto mb-6 flex items-center justify-center rounded-full bg-gradient-to-r from-primary to-secondary">
                            <!-- ç»“æœå›¾æ ‡å°†é€šè¿‡ JavaScript åŠ¨æ€æ·»åŠ  -->
                        </div>
                        
                        <h3 class="text-2xl font-bold mb-2" id="result-title">æµ‹è¯•ç»“æœ</h3>
                        <p class="text-xl mb-6" id="result-type">ä½ æ˜¯...</p>
                        
                        <div class="mb-8 p-6 bg-light rounded-xl text-left">
                            <p class="mb-4" id="result-description">
                                <!-- ç»“æœæè¿°å°†é€šè¿‡ JavaScript åŠ¨æ€æ·»åŠ  -->
                            </p>
                            
                            <div class="grid grid-cols-2 gap-4 mt-6">
                                <div class="p-4 bg-white rounded-lg shadow-sm">
                                    <h4 class="font-medium mb-2 text-primary">ä¼˜ç‚¹</h4>
                                    <ul class="list-disc list-inside text-gray-700" id="result-strengths">
                                        <!-- ä¼˜ç‚¹å°†é€šè¿‡ JavaScript åŠ¨æ€æ·»åŠ  -->
                                    </ul>
                                </div>
                                
                                <div class="p-4 bg-white rounded-lg shadow-sm">
                                    <h4 class="font-medium mb-2 text-secondary">é€‚åˆçš„ç¤¼ç‰©</h4>
                                    <ul class="list-disc list-inside text-gray-700" id="result-gifts">
                                        <!-- é€‚åˆçš„ç¤¼ç‰©å°†é€šè¿‡ JavaScript åŠ¨æ€æ·»åŠ  -->
                                    </ul>
                                </div>
                            </div>
                        </div>
                        
                        <div class="flex justify-center space-x-4">
                            <button id="retry-test" class="bg-white text-primary border-2 border-primary font-bold py-2 px-6 rounded-lg shadow-md hover:shadow-lg transform hover:-translate-y-1 transition-all">
                                é‡æ–°æµ‹è¯• <i class="fa fa-refresh ml-2"></i>
                            </button>
                            
                            <button id="share-result" class="bg-gradient-to-r from-primary to-secondary text-white font-bold py-2 px-6 rounded-lg shadow-md hover:shadow-lg transform hover:-translate-y-1 transition-all">
                                åˆ†äº«ç»“æœ <i class="fa fa-share-alt ml-2"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- è¶£å‘³äº’åŠ¨åŒºåŸŸ -->
    <section id="fun" class="py-16 px-4 bg-light section">
        <div class="container mx-auto">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold mb-4 gradient-text">è¶£å‘³äº’åŠ¨</h2>
                <p class="text-gray-600 max-w-2xl mx-auto">æ¥ç©ä¸€äº›æœ‰è¶£çš„å°æ¸¸æˆï¼Œæ”¾æ¾ä¸€ä¸‹å¿ƒæƒ…å§ï¼</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto">
                <!-- æ•°å­—é…å¯¹æ¸¸æˆ -->
                <div class="bg-white rounded-2xl shadow-lg p-6 card-hover">
                    <div class="text-center mb-6">
                        <div class="w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r from-primary to-secondary flex items-center justify-center">
                            <i class="fa fa-puzzle-piece text-white text-2xl"></i>
                        </div>
                        <h3 class="text-xl font-bold">æ•°å­—é…å¯¹</h3>
                        <p class="text-gray-600 mt-2">æ‰¾å‡ºç›¸åŒçš„æ•°å­—å¯¹ï¼Œé”»ç‚¼è®°å¿†åŠ›</p>
                    </div>
                    
                    <div id="memory-game" class="grid grid-cols-3 gap-3 mb-6">
                        <!-- å¡ç‰‡å°†é€šè¿‡ JavaScript åŠ¨æ€æ·»åŠ  -->
                    </div>
                    
                    <div class="flex justify-between items-center">
                        <div>
                            <span class="font-medium">å¾—åˆ†: </span>
                            <span id="memory-score">0</span>
                        </div>
                        
                        <button id="start-memory-game" class="bg-gradient-to-r from-primary to-secondary text-white font-medium py-2 px-4 rounded-lg shadow-md hover:shadow-lg transform hover:-translate-y-1 transition-all">
                            å¼€å§‹æ¸¸æˆ
                        </button>
                    </div>
                </div>
                
                <!-- çœŸå¿ƒè¯å¤§å†’é™© -->
                <div class="bg-white rounded-2xl shadow-lg p-6 card-hover">
                    <div class="text-center mb-6">
                        <div class="w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r from-primary to-secondary flex items-center justify-center">
                            <i class="fa fa-comment text-white text-2xl"></i>
                        </div>
                        <h3 class="text-xl font-bold">çœŸå¿ƒè¯å¤§å†’é™©</h3>
                        <p class="text-gray-600 mt-2">éšæœºæŠ½å–çœŸå¿ƒè¯æˆ–å¤§å†’é™©ä»»åŠ¡</p>
                    </div>
                    
                    <div class="mb-6 p-6 bg-light rounded-xl min-h-[150px] flex items-center justify-center">
                        <p class="text-center text-gray-600" id="truth-dare-text">
                            ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å¼€å§‹
                        </p>
                    </div>
                    
                    <div class="flex justify-center space-x-4">
                        <button id="truth-btn" class="bg-white text-primary border-2 border-primary font-bold py-2 px-6 rounded-lg shadow-md hover:shadow-lg transform hover:-translate-y-1 transition-all">
                            çœŸå¿ƒè¯
                        </button>
                        
                        <button id="dare-btn" class="bg-gradient-to-r from-primary to-secondary text-white font-bold py-2 px-6 rounded-lg shadow-md hover:shadow-lg transform hover:-translate-y-1 transition-all">
                            å¤§å†’é™©
                        </button>
                    </div>
                </div>
                
                <!-- æ˜Ÿåº§é…å¯¹ -->
                <div class="bg-white rounded-2xl shadow-lg p-6 card-hover">
                    <div class="text-center mb-6">
                        <div class="w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r from-primary to-secondary flex items-center justify-center">
                            <i class="fa fa-star text-white text-2xl"></i>
                        </div>
                        <h3 class="text-xl font-bold">æ˜Ÿåº§é…å¯¹</h3>
                        <p class="text-gray-600 mt-2">æµ‹è¯•ä½ å’Œèµµå¿—è¿œçš„æ˜Ÿåº§åŒ¹é…åº¦</p>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-4 mb-6">
                        <div>
                            <label class="block text-gray-700 mb-2">ä½ çš„æ˜Ÿåº§</label>
                            <select id="your-zodiac" class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                                <option value="">è¯·é€‰æ‹©</option>
                                <option value="aries">ç™½ç¾Šåº§</option>
                                <option value="taurus">é‡‘ç‰›åº§</option>
                                <option value="gemini">åŒå­åº§</option>
                                <option value="cancer">å·¨èŸ¹åº§</option>
                                <option value="leo">ç‹®å­åº§</option>
                                <option value="virgo">å¤„å¥³åº§</option>
                                <option value="libra">å¤©ç§¤åº§</option>
                                <option value="scorpio">å¤©èåº§</option>
                                <option value="sagittarius">å°„æ‰‹åº§</option>
                                <option value="capricorn">æ‘©ç¾¯åº§</option>
                                <option value="aquarius">æ°´ç“¶åº§</option>
                                <option value="pisces">åŒé±¼åº§</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-gray-700 mb-2">èµµå¿—è¿œçš„æ˜Ÿåº§</label>
                            <select id="his-zodiac" class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                                <option value="">è¯·é€‰æ‹©</option>
                                <option value="aries">ç™½ç¾Šåº§</option>
                                <option value="taurus">é‡‘ç‰›åº§</option>
                                <option value="gemini">åŒå­åº§</option>
                                <option value="cancer">å·¨èŸ¹åº§</option>
                                <option value="leo">ç‹®å­åº§</option>
                                <option value="virgo">å¤„å¥³åº§</option>
                                <option value="libra">å¤©ç§¤åº§</option>
                                <option value="scorpio">å¤©èåº§</option>
                                <option value="sagittarius">å°„æ‰‹åº§</option>
                                <option value="capricorn">æ‘©ç¾¯åº§</option>
                                <option value="aquarius">æ°´ç“¶åº§</option>
                                <option value="pisces">åŒé±¼åº§</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="mb-6 p-4 bg-light rounded-xl hidden" id="zodiac-result">
                        <div class="flex items-center justify-center mb-4">
                            <div class="w-16 h-16 rounded-full bg-gradient-to-r from-primary to-secondary flex items-center justify-center">
                                <span class="text-white text-xl font-bold" id="zodiac-percentage">0%</span>
                            </div>
                        </div>
                        
                        <p class="text-center text-gray-700" id="zodiac-description">
                            <!-- é…å¯¹æè¿°å°†é€šè¿‡ JavaScript åŠ¨æ€æ·»åŠ  -->
                        </p>
                    </div>
                    
                    <div class="flex justify-center">
                        <button id="match-zodiac" class="bg-gradient-to-r from-primary to-secondary text-white font-bold py-2 px-6 rounded-lg shadow-md hover:shadow-lg transform hover:-translate-y-1 transition-all">
                            å¼€å§‹é…å¯¹
                        </button>
                    </div>
                </div>
                
                <!-- å¹¸è¿ç­¾ -->
                <div class="bg-white rounded-2xl shadow-lg p-6 card-hover">
                    <div class="text-center mb-6">
                        <div class="w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r from-primary to-secondary flex items-center justify-center">
                            <i class="fa fa-ticket text-white text-2xl"></i>
                        </div>
                        <h3 class="text-xl font-bold">ä»Šæ—¥å¹¸è¿ç­¾</h3>
                        <p class="text-gray-600 mt-2">æŠ½å–ä½ çš„ä»Šæ—¥å¹¸è¿ç­¾ï¼Œçœ‹çœ‹è¿åŠ¿å¦‚ä½•</p>
                    </div>
                    
                    <div class="mb-6 p-6 bg-light rounded-xl min-h-[150px] flex items-center justify-center">
                        <div id="fortune-scroll" class="text-center">
                            <p class="text-gray-600">ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®æŠ½å–</p>
                        </div>
                    </div>
                    
                    <div class="flex justify-center">
                        <button id="draw-fortune" class="bg-gradient-to-r from-primary to-secondary text-white font-bold py-2 px-6 rounded-lg shadow-md hover:shadow-lg transform hover:-translate-y-1 transition-all">
                            æŠ½å–å¹¸è¿ç­¾
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- åº•éƒ¨åŒºåŸŸ -->
    <footer class="bg-gradient-to-r from-primary to-secondary text-white py-8 px-4">
        <div class="container mx-auto">
            <div class="text-center">
                <h2 class="text-2xl font-bold mb-4">ç³ç³çš„æƒŠå–œ</h2>
                <p class="mb-6">å¸Œæœ›è¿™ä¸ªå°ç½‘ç«™èƒ½ç»™ä½ å¸¦æ¥å¿«ä¹å’Œæ¸©æš– â¤ï¸</p>
                
                <div class="flex justify-center space-x-4 mb-8">
                    <a href="#" class="bg-white bg-opacity-20 hover:bg-opacity-30 w-10 h-10 rounded-full flex items-center justify-center transition-colors">
                        <i class="fa fa-heart"></i>
                    </a>
                    <a href="#" class="bg-white bg-opacity-20 hover:bg-opacity-30 w-10 h-10 rounded-full flex items-center justify-center transition-colors">
                        <i class="fa fa-star"></i>
                    </a>
                    <a href="#" class="bg-white bg-opacity-20 hover:bg-opacity-30 w-10 h-10 rounded-full flex items-center justify-center transition-colors">
                        <i class="fa fa-gift"></i>
                    </a>
                    <a href="#" class="bg-white bg-opacity-20 hover:bg-opacity-30 w-10 h-10 rounded-full flex items-center justify-center transition-colors">
                        <i class="fa fa-smile-o"></i>
                    </a>
                </div>
                
                <p class="text-sm text-white text-opacity-80">
                    åˆ¶ä½œäº <span id="current-year"></span> | ä¸“ä¸ºç³ç³æ‰“é€ 
                </p>
            </div>
        </div>
    </footer>
    
    <!-- æƒŠå–œå¼¹çª— -->
    <div id="surprise-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center hidden">
        <div class="bg-white rounded-2xl shadow-2xl p-6 md:p-8 max-w-md w-full mx-4 transform transition-all">
            <div class="text-center">
                <div class="w-20 h-20 mx-auto mb-6 rounded-full bg-gradient-to-r from-primary to-secondary flex items-center justify-center">
                    <i class="fa fa-gift text-white text-4xl"></i>
                </div>
                
                <h3 class="text-2xl font-bold mb-4">æƒŠå–œï¼</h3>
                
                <p class="text-gray-600 mb-6" id="surprise-message">
                    ä½ å‘ç°äº†ä¸€ä¸ªéšè—çš„æƒŠå–œï¼
                </p>
                
                <div class="flex justify-center">
                    <button id="close-surprise" class="bg-gradient-to-r from-primary to-secondary text-white font-bold py-2 px-6 rounded-lg shadow-md hover:shadow-lg transform hover:-translate-y-1 transition-all">
                        æ”¶ä¸‹æƒŠå–œ <i class="fa fa-heart ml-2"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // è¶£å‘³äº’åŠ¨æ¸¸æˆæ•°æ®
        const memoryCards = [1, 2, 3, 4, 5, 6, 1, 2, 3, 4, 5, 6];
        const truthQuestions = [
            "ä½ æœ€éš¾å¿˜çš„ä¸€æ¬¡æ—…è¡Œæ˜¯ä»€ä¹ˆæ—¶å€™ï¼Ÿ",
            "å¦‚æœä½ å¯ä»¥æ‹¥æœ‰ä¸€ç§è¶…èƒ½åŠ›ï¼Œä½ ä¼šé€‰æ‹©ä»€ä¹ˆï¼Ÿ",
            "ä½ æœ€å–œæ¬¢çš„ç”µå½±æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ",
            "ä½ ç«¥å¹´æ—¶çš„æ¢¦æƒ³æ˜¯ä»€ä¹ˆï¼Ÿ",
            "ä½ æœ€è¿‘å­¦åˆ°äº†ä»€ä¹ˆæ–°ä¸œè¥¿ï¼Ÿ",
            "ä½ æœ€å–œæ¬¢çš„å­£èŠ‚æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ",
            "å¦‚æœä½ å¯ä»¥å’Œä»»ä½•äººå…±è¿›æ™šé¤ï¼Œä½ ä¼šé€‰æ‹©è°ï¼Ÿ",
            "ä½ æœ€å¼•ä»¥ä¸ºè±ªçš„æˆå°±æ˜¯ä»€ä¹ˆï¼Ÿ",
            "ä½ å–œæ¬¢ä»€ä¹ˆæ ·çš„éŸ³ä¹ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ",
            "ä½ æœ€è¿‘çœ‹çš„ä¸€æœ¬ä¹¦æ˜¯ä»€ä¹ˆï¼Ÿ"
        ];
        
        const dareTasks = [
            "å”±ä¸€é¦–ä½ æœ€å–œæ¬¢çš„æ­Œï¼Œè‡³å°‘å”±30ç§’",
            "åšä¸€ä¸ªä½ æœ€æ“…é•¿çš„è¡¨æƒ…åŒ…",
            "æ¨¡ä»¿ä½ æœ€å–œæ¬¢çš„åŠ¨ç‰©å«å£°",
            "ç”¨ä¸‰ç§ä¸åŒçš„è¯­è¨€è¯´'æˆ‘çˆ±ä½ '",
            "è·³ä¸€æ®µä½ æœ€å–œæ¬¢çš„èˆè¹ˆ",
            "ç»™æˆ‘ä»¬è®²ä¸€ä¸ªä½ æœ€æ‹¿æ‰‹çš„ç¬‘è¯",
            "ç”¨è‚¢ä½“è¯­è¨€è¡¨è¾¾ä¸€ä¸ªæˆè¯­ï¼Œè®©å¤§å®¶çŒœ",
            "æ¨¡ä»¿ä¸€ä½åäººçš„è¯´è¯æ–¹å¼",
            "åš10ä¸ªä¿¯å§æ’‘ï¼ˆæˆ–è€…å…¶ä»–ç®€å•çš„è¿åŠ¨ï¼‰",
            "ç»™æˆ‘ä»¬è¡¨æ¼”ä¸€æ®µå³å…´å°å“"
        ];
        
        const zodiacMatches = {
            aries: {
                aries: { percent: 80, desc: "ä¸¤ä¸ªç™½ç¾Šåº§åœ¨ä¸€èµ·ä¼šå……æ»¡æ¿€æƒ…å’Œæ´»åŠ›ï¼Œä½†ä¹Ÿå¯èƒ½ä¼šæœ‰å†²çªã€‚" },
                taurus: { percent: 70, desc: "ç™½ç¾Šåº§å’Œé‡‘ç‰›åº§å¯ä»¥äº’è¡¥ï¼Œä½†éœ€è¦åŒæ–¹éƒ½åšå‡ºä¸€äº›è®©æ­¥ã€‚" },
                gemini: { percent: 90, desc: "ç™½ç¾Šåº§å’ŒåŒå­åº§æ˜¯å¤©é€ åœ°è®¾çš„ä¸€å¯¹ï¼Œå……æ»¡ä¹è¶£å’Œå†’é™©ç²¾ç¥ã€‚" },
                cancer: { percent: 60, desc: "ç™½ç¾Šåº§å’Œå·¨èŸ¹åº§éœ€è¦æ›´å¤šçš„ç†è§£å’Œæ²Ÿé€šæ‰èƒ½ç›¸å¤„èæ´½ã€‚" },
                leo: { percent: 95, desc: "ç™½ç¾Šåº§å’Œç‹®å­åº§æ˜¯å®Œç¾çš„ç»„åˆï¼Œå……æ»¡æ¿€æƒ…å’Œåˆ›é€ åŠ›ã€‚" },
                virgo: { percent: 75, desc: "ç™½ç¾Šåº§å’Œå¤„å¥³åº§å¯ä»¥äº’ç›¸å­¦ä¹ ï¼Œä½†éœ€è¦æ›´å¤šçš„è€å¿ƒã€‚" },
                libra: { percent: 85, desc: "ç™½ç¾Šåº§å’Œå¤©ç§¤åº§æ˜¯å¾ˆå¥½çš„æ­é…ï¼Œäº’ç›¸å¸å¼•ã€‚" },
                scorpio: { percent: 80, desc: "ç™½ç¾Šåº§å’Œå¤©èåº§å……æ»¡æ¿€æƒ…ï¼Œä½†ä¹Ÿéœ€è¦æ³¨æ„æ§åˆ¶æƒ…ç»ªã€‚" },
                sagittarius: { percent: 90, desc: "ç™½ç¾Šåº§å’Œå°„æ‰‹åº§æ˜¯å¤©ç”Ÿçš„ä¸€å¯¹ï¼Œå……æ»¡å†’é™©ç²¾ç¥ã€‚" },
                capricorn: { percent: 70, desc: "ç™½ç¾Šåº§å’Œæ‘©ç¾¯åº§éœ€è¦æ›´å¤šçš„ç†è§£å’Œå¦¥åã€‚" },
                aquarius: { percent: 85, desc: "ç™½ç¾Šåº§å’Œæ°´ç“¶åº§æ˜¯å¾ˆå¥½çš„æœ‹å‹å’Œä¼´ä¾£ã€‚" },
                pisces: { percent: 65, desc: "ç™½ç¾Šåº§å’ŒåŒé±¼åº§éœ€è¦æ›´å¤šçš„æ²Ÿé€šå’Œç†è§£ã€‚" }
            },
            taurus: {
                aries: { percent: 70, desc: "é‡‘ç‰›åº§å’Œç™½ç¾Šåº§å¯ä»¥äº’è¡¥ï¼Œä½†éœ€è¦åŒæ–¹éƒ½åšå‡ºä¸€äº›è®©æ­¥ã€‚" },
                taurus: { percent: 85, desc: "ä¸¤ä¸ªé‡‘ç‰›åº§åœ¨ä¸€èµ·ä¼šå¾ˆç¨³å®šï¼Œä½†å¯èƒ½ä¼šç¼ºä¹æ¿€æƒ…ã€‚" },
                gemini: { percent: 75, desc: "é‡‘ç‰›åº§å’ŒåŒå­åº§éœ€è¦æ›´å¤šçš„ç†è§£å’Œæ²Ÿé€šã€‚" },
                cancer: { percent: 90, desc: "é‡‘ç‰›åº§å’Œå·¨èŸ¹åº§æ˜¯å¾ˆé…çš„ä¸€å¯¹ï¼Œå……æ»¡æ¸©æš–å’Œå®‰å…¨æ„Ÿã€‚" },
                leo: { percent: 70, desc: "é‡‘ç‰›åº§å’Œç‹®å­åº§éœ€è¦æ›´å¤šçš„ç†è§£å’Œå¦¥åã€‚" },
                virgo: { percent: 95, desc: "é‡‘ç‰›åº§å’Œå¤„å¥³åº§æ˜¯å®Œç¾çš„ç»„åˆï¼Œäº’ç›¸ç†è§£å’Œæ”¯æŒã€‚" },
                libra: { percent: 80, desc: "é‡‘ç‰›åº§å’Œå¤©ç§¤åº§æ˜¯å¾ˆå¥½çš„æ­é…ï¼Œäº’ç›¸å¸å¼•ã€‚" },
                scorpio: { percent: 85, desc: "é‡‘ç‰›åº§å’Œå¤©èåº§å……æ»¡æ¿€æƒ…å’Œç¥ç§˜æ„Ÿã€‚" },
                sagittarius: { percent: 65, desc: "é‡‘ç‰›åº§å’Œå°„æ‰‹åº§éœ€è¦æ›´å¤šçš„æ²Ÿé€šå’Œç†è§£ã€‚" },
                capricorn: { percent: 90, desc: "é‡‘ç‰›åº§å’Œæ‘©ç¾¯åº§æ˜¯å¾ˆé…çš„ä¸€å¯¹ï¼Œç¨³å®šè€Œå¯é ã€‚" },
                aquarius: { percent: 70, desc: "é‡‘ç‰›åº§å’Œæ°´ç“¶åº§éœ€è¦æ›´å¤šçš„ç†è§£å’Œå¦¥åã€‚" },
                pisces: { percent: 85, desc: "é‡‘ç‰›åº§å’ŒåŒé±¼åº§æ˜¯å¾ˆå¥½çš„æ­é…ï¼Œå……æ»¡æ¸©æš–å’Œåˆ›é€ åŠ›ã€‚" }
            },
            gemini: {
                aries: { percent: 90, desc: "åŒå­åº§å’Œç™½ç¾Šåº§æ˜¯å¤©é€ åœ°è®¾çš„ä¸€å¯¹ï¼Œå……æ»¡ä¹è¶£å’Œå†’é™©ç²¾ç¥ã€‚" },
                taurus: { percent: 75, desc: "åŒå­åº§å’Œé‡‘ç‰›åº§éœ€è¦æ›´å¤šçš„ç†è§£å’Œæ²Ÿé€šã€‚" },
                gemini: { percent: 80, desc: "ä¸¤ä¸ªåŒå­åº§åœ¨ä¸€èµ·ä¼šå¾ˆæœ‰è¶£ï¼Œä½†å¯èƒ½ä¼šç¼ºä¹ç¨³å®šæ€§ã€‚" },
                cancer: { percent: 70, desc: "åŒå­åº§å’Œå·¨èŸ¹åº§éœ€è¦æ›´å¤šçš„ç†è§£å’Œå¦¥åã€‚" },
                leo: { percent: 85, desc: "åŒå­åº§å’Œç‹®å­åº§æ˜¯å¾ˆå¥½çš„æ­é…ï¼Œå……æ»¡æ´»åŠ›å’Œåˆ›é€ åŠ›ã€‚" },
                virgo: { percent: 80, desc: "åŒå­åº§å’Œå¤„å¥³åº§å¯ä»¥äº’ç›¸å­¦ä¹ ï¼Œä½†éœ€è¦æ›´å¤šçš„è€å¿ƒã€‚" },
                libra: { percent: 95, desc: "åŒå­åº§å’Œå¤©ç§¤åº§æ˜¯å®Œç¾çš„ç»„åˆï¼Œå……æ»¡ä¹è¶£å’Œæ™ºæ…§ã€‚" },
                scorpio: { percent: 75, desc: "åŒå­åº§å’Œå¤©èåº§éœ€è¦æ›´å¤šçš„æ²Ÿé€šå’Œç†è§£ã€‚" },
                sagittarius: { percent: 90, desc: "åŒå­åº§å’Œå°„æ‰‹åº§æ˜¯å¤©ç”Ÿçš„ä¸€å¯¹ï¼Œå……æ»¡å†’é™©ç²¾ç¥ã€‚" },
                capricorn: { percent: 65, desc: "åŒå­åº§å’Œæ‘©ç¾¯åº§éœ€è¦æ›´å¤šçš„ç†è§£å’Œå¦¥åã€‚" },
                aquarius: { percent: 90, desc: "åŒå­åº§å’Œæ°´ç“¶åº§æ˜¯å¾ˆå¥½çš„æœ‹å‹å’Œä¼´ä¾£ã€‚" },
                pisces: { percent: 75, desc: "åŒå­åº§å’ŒåŒé±¼åº§éœ€è¦æ›´å¤šçš„æ²Ÿé€šå’Œç†è§£ã€‚" }
            },
            cancer: {
                aries: { percent: 60, desc: "å·¨èŸ¹åº§å’Œç™½ç¾Šåº§éœ€è¦æ›´å¤šçš„ç†è§£å’Œæ²Ÿé€šæ‰èƒ½ç›¸å¤„èæ´½ã€‚" },
                taurus: { percent: 90, desc: "å·¨èŸ¹åº§å’Œé‡‘ç‰›åº§æ˜¯å¾ˆé…çš„ä¸€å¯¹ï¼Œå……æ»¡æ¸©æš–å’Œå®‰å…¨æ„Ÿã€‚" },
                gemini: { percent: 70, desc: "å·¨èŸ¹åº§å’ŒåŒå­åº§éœ€è¦æ›´å¤šçš„ç†è§£å’Œå¦¥åã€‚" },
                cancer: { percent: 85, desc: "ä¸¤ä¸ªå·¨èŸ¹åº§åœ¨ä¸€èµ·ä¼šå¾ˆæ¸©é¦¨ï¼Œä½†å¯èƒ½ä¼šè¿‡äºæ•æ„Ÿã€‚" },
                leo: { percent: 75, desc: "å·¨èŸ¹åº§å’Œç‹®å­åº§éœ€è¦æ›´å¤šçš„æ²Ÿé€šå’Œç†è§£ã€‚" },
                virgo: { percent: 85, desc: "å·¨èŸ¹åº§å’Œå¤„å¥³åº§æ˜¯å¾ˆå¥½çš„æ­é…ï¼Œäº’ç›¸ç†è§£å’Œæ”¯æŒã€‚" },
                libra: { percent: 70, desc: "å·¨èŸ¹åº§å’Œå¤©ç§¤åº§éœ€è¦æ›´å¤šçš„ç†è§£å’Œå¦¥åã€‚" },
                scorpio: { percent: 95, desc: "å·¨èŸ¹åº§å’Œå¤©èåº§æ˜¯å®Œç¾çš„ç»„åˆï¼Œå……æ»¡æ¿€æƒ…å’Œç¥ç§˜æ„Ÿã€‚" },
                sagittarius: { percent: 65, desc: "å·¨èŸ¹åº§å’Œå°„æ‰‹åº§éœ€è¦æ›´å¤šçš„æ²Ÿé€šå’Œç†è§£ã€‚" },
                capricorn: { percent: 80, desc: "å·¨èŸ¹åº§å’Œæ‘©ç¾¯åº§æ˜¯å¾ˆé…çš„ä¸€å¯¹ï¼Œç¨³å®šè€Œå¯é ã€‚" },
                aquarius: { percent: 65, desc: "å·¨èŸ¹åº§å’Œæ°´ç“¶åº§éœ€è¦æ›´å¤šçš„ç†è§£å’Œå¦¥åã€‚" },
                pisces: { percent: 90, desc: "å·¨èŸ¹åº§å’ŒåŒé±¼åº§æ˜¯å¾ˆå¥½çš„æ­é…ï¼Œå……æ»¡æ¸©æš–å’Œåˆ›é€ åŠ›ã€‚" }
            },
            leo: {
                aries: { percent: 95, desc: "ç‹®å­åº§å’Œç™½ç¾Šåº§æ˜¯å®Œç¾çš„ç»„åˆï¼Œå……æ»¡æ¿€æƒ…å’Œåˆ›é€ åŠ›ã€‚" },
                taurus: { percent: 70, desc: "ç‹®å­åº§å’Œé‡‘ç‰›åº§éœ€è¦æ›´å¤šçš„ç†è§£å’Œå¦¥åã€‚" },
                gemini: { percent: 85, desc: "ç‹®å­åº§å’ŒåŒå­åº§æ˜¯å¾ˆå¥½çš„æ­é…ï¼Œå……æ»¡æ´»åŠ›å’Œåˆ›é€ åŠ›ã€‚" },
                cancer: { percent: 75, desc: "ç‹®å­åº§å’Œå·¨èŸ¹åº§éœ€è¦æ›´å¤šçš„æ²Ÿé€šå’Œç†è§£ã€‚" },
                leo: { percent: 85, desc: "ä¸¤ä¸ªç‹®å­åº§åœ¨ä¸€èµ·ä¼šå¾ˆæœ‰æ´»åŠ›ï¼Œä½†å¯èƒ½ä¼šæœ‰ç«äº‰ã€‚" },
                virgo: { percent: 80, desc: "ç‹®å­åº§å’Œå¤„å¥³åº§å¯ä»¥äº’ç›¸å­¦ä¹ ï¼Œä½†éœ€è¦æ›´å¤šçš„è€å¿ƒã€‚" },
                libra: { percent: 90, desc: "ç‹®å­åº§å’Œå¤©ç§¤åº§æ˜¯å¤©é€ åœ°è®¾çš„ä¸€å¯¹ï¼Œå……æ»¡é­…åŠ›å’Œæ¿€æƒ…ã€‚" },
                scorpio: { percent: 85, desc: "ç‹®å­åº§å’Œå¤©èåº§å……æ»¡æ¿€æƒ…ï¼Œä½†ä¹Ÿéœ€è¦æ³¨æ„æ§åˆ¶æƒ…ç»ªã€‚" },
                sagittarius: { percent: 90, desc: "ç‹®å­åº§å’Œå°„æ‰‹åº§æ˜¯å¤©ç”Ÿçš„ä¸€å¯¹ï¼Œå……æ»¡å†’é™©ç²¾ç¥ã€‚" },
                capricorn: { percent: 75, desc: "ç‹®å­åº§å’Œæ‘©ç¾¯åº§éœ€è¦æ›´å¤šçš„ç†è§£å’Œå¦¥åã€‚" },
                aquarius: { percent: 80, desc: "ç‹®å­åº§å’Œæ°´ç“¶åº§æ˜¯å¾ˆå¥½çš„æœ‹å‹å’Œä¼´ä¾£ã€‚" },
                pisces: { percent: 75, desc: "ç‹®å­åº§å’ŒåŒé±¼åº§éœ€è¦æ›´å¤šçš„æ²Ÿé€šå’Œç†è§£ã€‚" }
            },
            virgo: {
                aries: { percent: 75, desc: "å¤„å¥³åº§å’Œç™½ç¾Šåº§å¯ä»¥äº’ç›¸å­¦ä¹ ï¼Œä½†éœ€è¦æ›´å¤šçš„è€å¿ƒã€‚" },
                taurus: { percent: 95, desc: "å¤„å¥³åº§å’Œé‡‘ç‰›åº§æ˜¯å®Œç¾çš„ç»„åˆï¼Œäº’ç›¸ç†è§£å’Œæ”¯æŒã€‚" },
                gemini: { percent: 80, desc: "å¤„å¥³åº§å’ŒåŒå­åº§å¯ä»¥äº’ç›¸å­¦ä¹ ï¼Œä½†éœ€è¦æ›´å¤šçš„è€å¿ƒã€‚" },
                cancer: { percent: 85, desc: "å¤„å¥³åº§å’Œå·¨èŸ¹åº§æ˜¯å¾ˆå¥½çš„æ­é…ï¼Œäº’ç›¸ç†è§£å’Œæ”¯æŒã€‚" },
                leo: { percent: 80, desc: "å¤„å¥³åº§å’Œç‹®å­åº§å¯ä»¥äº’ç›¸å­¦ä¹ ï¼Œä½†éœ€è¦æ›´å¤šçš„è€å¿ƒã€‚" },
                virgo: { percent: 85, desc: "ä¸¤ä¸ªå¤„å¥³åº§åœ¨ä¸€èµ·ä¼šå¾ˆå’Œè°ï¼Œä½†å¯èƒ½ä¼šè¿‡äºæŒ‘å‰”ã€‚" },
                libra: { percent: 80, desc: "å¤„å¥³åº§å’Œå¤©ç§¤åº§éœ€è¦æ›´å¤šçš„ç†è§£å’Œå¦¥åã€‚" },
                scorpio: { percent: 90, desc: "å¤„å¥³åº§å’Œå¤©èåº§æ˜¯å¾ˆé…çš„ä¸€å¯¹ï¼Œå……æ»¡æ·±åº¦å’Œç†è§£ã€‚" },
                sagittarius: { percent: 70, desc: "å¤„å¥³åº§å’Œå°„æ‰‹åº§éœ€è¦æ›´å¤šçš„æ²Ÿé€šå’Œç†è§£ã€‚" },
                capricorn: { percent: 90, desc: "å¤„å¥³åº§å’Œæ‘©ç¾¯åº§æ˜¯å®Œç¾çš„ç»„åˆï¼Œäº’ç›¸æ”¯æŒå’Œç†è§£ã€‚" },
                aquarius: { percent: 75, desc: "å¤„å¥³åº§å’Œæ°´ç“¶åº§éœ€è¦æ›´å¤šçš„ç†è§£å’Œå¦¥åã€‚" },
                pisces: { percent: 85, desc: "å¤„å¥³åº§å’ŒåŒé±¼åº§å¯ä»¥äº’ç›¸å­¦ä¹ ï¼Œä½†éœ€è¦æ›´å¤šçš„è€å¿ƒã€‚" }
            },
            libra: {
                aries: { percent: 85, desc: "å¤©ç§¤åº§å’Œç™½ç¾Šåº§æ˜¯å¾ˆå¥½çš„æ­é…ï¼Œäº’ç›¸å¸å¼•ã€‚" },
                taurus: { percent: 80, desc: "å¤©ç§¤åº§å’Œé‡‘ç‰›åº§æ˜¯å¾ˆå¥½çš„æ­é…ï¼Œäº’ç›¸å¸å¼•ã€‚" },
                gemini: { percent: 95, desc: "å¤©ç§¤åº§å’ŒåŒå­åº§æ˜¯å®Œç¾çš„ç»„åˆï¼Œå……æ»¡ä¹è¶£å’Œæ™ºæ…§ã€‚" },
                cancer: { percent: 70, desc: "å¤©ç§¤åº§å’Œå·¨èŸ¹åº§éœ€è¦æ›´å¤šçš„ç†è§£å’Œå¦¥åã€‚" },
                leo: { percent: 90, desc: "å¤©ç§¤åº§å’Œç‹®å­åº§æ˜¯å¤©é€ åœ°è®¾çš„ä¸€å¯¹ï¼Œå……æ»¡é­…åŠ›å’Œæ¿€æƒ…ã€‚" },
                virgo: { percent: 80, desc: "å¤©ç§¤åº§å’Œå¤„å¥³åº§éœ€è¦æ›´å¤šçš„ç†è§£å’Œå¦¥åã€‚" },
                libra: { percent: 85, desc: "ä¸¤ä¸ªå¤©ç§¤åº§åœ¨ä¸€èµ·ä¼šå¾ˆå’Œè°ï¼Œä½†å¯èƒ½ä¼šéš¾ä»¥åšå†³å®šã€‚" },
                scorpio: { percent: 80, desc: "å¤©ç§¤åº§å’Œå¤©èåº§å……æ»¡æ¿€æƒ…ï¼Œä½†ä¹Ÿéœ€è¦æ³¨æ„æ§åˆ¶æƒ…ç»ªã€‚" },
                sagittarius: { percent: 85, desc: "å¤©ç§¤åº§å’Œå°„æ‰‹åº§æ˜¯å¾ˆå¥½çš„æœ‹å‹å’Œä¼´ä¾£ã€‚" },
                capricorn: { percent: 75, desc: "å¤©ç§¤åº§å’Œæ‘©ç¾¯åº§éœ€è¦æ›´å¤šçš„ç†è§£å’Œå¦¥åã€‚" },
                aquarius: { percent: 90, desc: "å¤©ç§¤åº§å’Œæ°´ç“¶åº§æ˜¯å¤©é€ åœ°è®¾çš„ä¸€å¯¹ï¼Œå……æ»¡æ™ºæ…§å’Œåˆ›é€ åŠ›ã€‚" },
                pisces: { percent: 85, desc: "å¤©ç§¤åº§å’ŒåŒé±¼åº§æ˜¯å¾ˆå¥½çš„æ­é…ï¼Œå……æ»¡æµªæ¼«å’Œåˆ›é€ åŠ›ã€‚" }
            },
            scorpio: {
                aries: { percent: 80, desc: "å¤©èåº§å’Œç™½ç¾Šåº§å……æ»¡æ¿€æƒ…ï¼Œä½†ä¹Ÿéœ€è¦æ³¨æ„æ§åˆ¶æƒ…ç»ªã€‚" },
                taurus: { percent: 85, desc: "å¤©èåº§å’Œé‡‘ç‰›åº§å……æ»¡æ¿€æƒ…å’Œç¥ç§˜æ„Ÿã€‚" },
                gemini: { percent: 75, desc: "å¤©èåº§å’ŒåŒå­åº§éœ€è¦æ›´å¤šçš„æ²Ÿé€šå’Œç†è§£ã€‚" },
                cancer: { percent: 95, desc: "å¤©èåº§å’Œå·¨èŸ¹åº§æ˜¯å®Œç¾çš„ç»„åˆï¼Œå……æ»¡æ¿€æƒ…å’Œç¥ç§˜æ„Ÿã€‚" },
                leo: { percent: 85, desc: "å¤©èåº§å’Œç‹®å­åº§å……æ»¡æ¿€æƒ…ï¼Œä½†ä¹Ÿéœ€è¦æ³¨æ„æ§åˆ¶æƒ…ç»ªã€‚" },
                virgo: { percent: 90, desc: "å¤©èåº§å’Œå¤„å¥³åº§æ˜¯å¾ˆé…çš„ä¸€å¯¹ï¼Œå……æ»¡æ·±åº¦å’Œç†è§£ã€‚" },
                libra: { percent: 80, desc: "å¤©èåº§å’Œå¤©ç§¤åº§å……æ»¡æ¿€æƒ…ï¼Œä½†ä¹Ÿéœ€è¦æ³¨æ„æ§åˆ¶æƒ…ç»ªã€‚" },
                scorpio: { percent: 90, desc: "ä¸¤ä¸ªå¤©èåº§åœ¨ä¸€èµ·ä¼šå¾ˆæœ‰æ¿€æƒ…ï¼Œä½†ä¹Ÿå¯èƒ½ä¼šæœ‰å†²çªã€‚" },
                sagittarius: { percent: 80, desc: "å¤©èåº§å’Œå°„æ‰‹åº§éœ€è¦æ›´å¤šçš„æ²Ÿé€šå’Œç†è§£ã€‚" },
                capricorn: { percent: 85, desc: "å¤©èåº§å’Œæ‘©ç¾¯åº§æ˜¯å¾ˆé…çš„ä¸€å¯¹ï¼Œå……æ»¡æ·±åº¦å’Œç†è§£ã€‚" },
                aquarius: { percent: 75, desc: "å¤©èåº§å’Œæ°´ç“¶åº§éœ€è¦æ›´å¤šçš„ç†è§£å’Œå¦¥åã€‚" },
                pisces: { percent: 95, desc: "å¤©èåº§å’ŒåŒé±¼åº§æ˜¯å®Œç¾çš„ç»„åˆï¼Œå……æ»¡æ¿€æƒ…å’Œç¥ç§˜æ„Ÿã€‚" }
            },
            sagittarius: {
                aries: { percent: 90, desc: "å°„æ‰‹åº§å’Œç™½ç¾Šåº§æ˜¯å¤©ç”Ÿçš„ä¸€å¯¹ï¼Œå……æ»¡å†’é™©ç²¾ç¥ã€‚" },
                taurus: { percent: 65, desc: "å°„æ‰‹åº§å’Œé‡‘ç‰›åº§éœ€è¦æ›´å¤šçš„æ²Ÿé€šå’Œç†è§£ã€‚" },
                gemini: { percent: 90, desc: "å°„æ‰‹åº§å’ŒåŒå­åº§æ˜¯å¤©ç”Ÿçš„ä¸€å¯¹ï¼Œå……æ»¡å†’é™©ç²¾ç¥ã€‚" },
                cancer: { percent: 65, desc: "å°„æ‰‹åº§å’Œå·¨èŸ¹åº§éœ€è¦æ›´å¤šçš„æ²Ÿé€šå’Œç†è§£ã€‚" },
                leo: { percent: 90, desc: "å°„æ‰‹åº§å’Œç‹®å­åº§æ˜¯å¤©ç”Ÿçš„ä¸€å¯¹ï¼Œå……æ»¡å†’é™©ç²¾ç¥ã€‚" },
                virgo: { percent: 70, desc: "å°„æ‰‹åº§å’Œå¤„å¥³åº§éœ€è¦æ›´å¤šçš„æ²Ÿé€šå’Œç†è§£ã€‚" },
                libra: { percent: 85, desc: "å°„æ‰‹åº§å’Œå¤©ç§¤åº§æ˜¯å¾ˆå¥½çš„æœ‹å‹å’Œä¼´ä¾£ã€‚" },
                scorpio: { percent: 80, desc: "å°„æ‰‹åº§å’Œå¤©èåº§éœ€è¦æ›´å¤šçš„æ²Ÿé€šå’Œç†è§£ã€‚" },
                sagittarius: { percent: 85, desc: "ä¸¤ä¸ªå°„æ‰‹åº§åœ¨ä¸€èµ·ä¼šå¾ˆæœ‰æ´»åŠ›ï¼Œä½†å¯èƒ½ä¼šç¼ºä¹ç¨³å®šæ€§ã€‚" },
                capricorn: { percent: 70, desc: "å°„æ‰‹åº§å’Œæ‘©ç¾¯åº§éœ€è¦æ›´å¤šçš„ç†è§£å’Œå¦¥åã€‚" },
                aquarius: { percent: 90, desc: "å°„æ‰‹åº§å’Œæ°´ç“¶åº§æ˜¯å¤©ç”Ÿçš„ä¸€å¯¹ï¼Œå……æ»¡å†’é™©ç²¾ç¥ã€‚" },
                pisces: { percent: 75, desc: "å°„æ‰‹åº§å’ŒåŒé±¼åº§éœ€è¦æ›´å¤šçš„æ²Ÿé€šå’Œç†è§£ã€‚" }
            },
            capricorn: {
                aries: { percent: 70, desc: "æ‘©ç¾¯åº§å’Œç™½ç¾Šåº§éœ€è¦æ›´å¤šçš„ç†è§£å’Œå¦¥åã€‚" },
                taurus: { percent: 90, desc: "æ‘©ç¾¯åº§å’Œé‡‘ç‰›åº§æ˜¯å¾ˆé…çš„ä¸€å¯¹ï¼Œç¨³å®šè€Œå¯é ã€‚" },
                gemini: { percent: 65, desc: "æ‘©ç¾¯åº§å’ŒåŒå­åº§éœ€è¦æ›´å¤šçš„ç†è§£å’Œå¦¥åã€‚" },
                cancer: { percent: 80, desc: "æ‘©ç¾¯åº§å’Œå·¨èŸ¹åº§æ˜¯å¾ˆé…çš„ä¸€å¯¹ï¼Œç¨³å®šè€Œå¯é ã€‚" },
                leo: { percent: 75, desc: "æ‘©ç¾¯åº§å’Œç‹®å­åº§éœ€è¦æ›´å¤šçš„ç†è§£å’Œå¦¥åã€‚" },
                virgo: { percent: 90, desc: "æ‘©ç¾¯åº§å’Œå¤„å¥³åº§æ˜¯å®Œç¾çš„ç»„åˆï¼Œäº’ç›¸æ”¯æŒå’Œç†è§£ã€‚" },
                libra: { percent: 75, desc: "æ‘©ç¾¯åº§å’Œå¤©ç§¤åº§éœ€è¦æ›´å¤šçš„ç†è§£å’Œå¦¥åã€‚" },
                scorpio: { percent: 85, desc: "æ‘©ç¾¯åº§å’Œå¤©èåº§æ˜¯å¾ˆé…çš„ä¸€å¯¹ï¼Œå……æ»¡æ·±åº¦å’Œç†è§£ã€‚" },
                sagittarius: { percent: 70, desc: "æ‘©ç¾¯åº§å’Œå°„æ‰‹åº§éœ€è¦æ›´å¤šçš„ç†è§£å’Œå¦¥åã€‚" },
                capricorn: { percent: 85, desc: "ä¸¤ä¸ªæ‘©ç¾¯åº§åœ¨ä¸€èµ·ä¼šå¾ˆç¨³å®šï¼Œä½†å¯èƒ½ä¼šç¼ºä¹æ¿€æƒ…ã€‚" },
                aquarius: { percent: 75, desc: "æ‘©ç¾¯åº§å’Œæ°´ç“¶åº§éœ€è¦æ›´å¤šçš„ç†è§£å’Œå¦¥åã€‚" },
                pisces: { percent: 80, desc: "æ‘©ç¾¯åº§å’ŒåŒé±¼åº§å¯ä»¥äº’ç›¸å­¦ä¹ ï¼Œä½†éœ€è¦æ›´å¤šçš„è€å¿ƒã€‚" }
            },
            aquarius: {
                aries: { percent: 85, desc: "æ°´ç“¶åº§å’Œç™½ç¾Šåº§æ˜¯å¾ˆå¥½çš„æœ‹å‹å’Œä¼´ä¾£ã€‚" },
                taurus: { percent: 70, desc: "æ°´ç“¶åº§å’Œé‡‘ç‰›åº§éœ€è¦æ›´å¤šçš„ç†è§£å’Œå¦¥åã€‚" },
                gemini: { percent: 90, desc: "æ°´ç“¶åº§å’ŒåŒå­åº§æ˜¯å¾ˆå¥½çš„æœ‹å‹å’Œä¼´ä¾£ã€‚" },
                cancer: { percent: 65, desc: "æ°´ç“¶åº§å’Œå·¨èŸ¹åº§éœ€è¦æ›´å¤šçš„ç†è§£å’Œå¦¥åã€‚" },
                leo: { percent: 80, desc: "æ°´ç“¶åº§å’Œç‹®å­åº§æ˜¯å¾ˆå¥½çš„æœ‹å‹å’Œä¼´ä¾£ã€‚" },
                virgo: { percent: 75, desc: "æ°´ç“¶åº§å’Œå¤„å¥³åº§éœ€è¦æ›´å¤šçš„ç†è§£å’Œå¦¥åã€‚" },
                libra: { percent: 90, desc: "æ°´ç“¶åº§å’Œå¤©ç§¤åº§æ˜¯å¤©é€ åœ°è®¾çš„ä¸€å¯¹ï¼Œå……æ»¡æ™ºæ…§å’Œåˆ›é€ åŠ›ã€‚" },
                scorpio: { percent: 75, desc: "æ°´ç“¶åº§å’Œå¤©èåº§éœ€è¦æ›´å¤šçš„ç†è§£å’Œå¦¥åã€‚" },
                sagittarius: { percent: 90, desc: "æ°´ç“¶åº§å’Œå°„æ‰‹åº§æ˜¯å¤©ç”Ÿçš„ä¸€å¯¹ï¼Œå……æ»¡å†’é™©ç²¾ç¥ã€‚" },
                capricorn: { percent: 75, desc: "æ°´ç“¶åº§å’Œæ‘©ç¾¯åº§éœ€è¦æ›´å¤šçš„ç†è§£å’Œå¦¥åã€‚" },
                aquarius: { percent: 85, desc: "ä¸¤ä¸ªæ°´ç“¶åº§åœ¨ä¸€èµ·ä¼šå¾ˆæœ‰è¶£ï¼Œä½†å¯èƒ½ä¼šç¼ºä¹ç¨³å®šæ€§ã€‚" },
                pisces: { percent: 85, desc: "æ°´ç“¶åº§å’ŒåŒé±¼åº§æ˜¯å¾ˆå¥½çš„æ­é…ï¼Œå……æ»¡åˆ›é€ åŠ›å’Œç†è§£ã€‚" }
            },
            pisces: {
                aries: { percent: 65, desc: "åŒé±¼åº§å’Œç™½ç¾Šåº§éœ€è¦æ›´å¤šçš„æ²Ÿé€šå’Œç†è§£ã€‚" },
                taurus: { percent: 85, desc: "åŒé±¼åº§å’Œé‡‘ç‰›åº§æ˜¯å¾ˆå¥½çš„æ­é…ï¼Œå……æ»¡æ¸©æš–å’Œåˆ›é€ åŠ›ã€‚" },
                gemini: { percent: 75, desc: "åŒé±¼åº§å’ŒåŒå­åº§éœ€è¦æ›´å¤šçš„æ²Ÿé€šå’Œç†è§£ã€‚" },
                cancer: { percent: 90, desc: "åŒé±¼åº§å’Œå·¨èŸ¹åº§æ˜¯å¾ˆå¥½çš„æ­é…ï¼Œå……æ»¡æ¸©æš–å’Œåˆ›é€ åŠ›ã€‚" },
                leo: { percent: 75, desc: "åŒé±¼åº§å’Œç‹®å­åº§éœ€è¦æ›´å¤šçš„æ²Ÿé€šå’Œç†è§£ã€‚" },
                virgo: { percent: 85, desc: "åŒé±¼åº§å’Œå¤„å¥³åº§å¯ä»¥äº’ç›¸å­¦ä¹ ï¼Œä½†éœ€è¦æ›´å¤šçš„è€å¿ƒã€‚" },
                libra: { percent: 85, desc: "åŒé±¼åº§å’Œå¤©ç§¤åº§æ˜¯å¾ˆå¥½çš„æ­é…ï¼Œå……æ»¡æµªæ¼«å’Œåˆ›é€ åŠ›ã€‚" },
                scorpio: { percent: 95, desc: "åŒé±¼åº§å’Œå¤©èåº§æ˜¯å®Œç¾çš„ç»„åˆï¼Œå……æ»¡æ¿€æƒ…å’Œç¥ç§˜æ„Ÿã€‚" },
                sagittarius: { percent: 75, desc: "åŒé±¼åº§å’Œå°„æ‰‹åº§éœ€è¦æ›´å¤šçš„æ²Ÿé€šå’Œç†è§£ã€‚" },
                capricorn: { percent: 80, desc: "åŒé±¼åº§å’Œæ‘©ç¾¯åº§å¯ä»¥äº’ç›¸å­¦ä¹ ï¼Œä½†éœ€è¦æ›´å¤šçš„è€å¿ƒã€‚" },
                aquarius: { percent: 85, desc: "åŒé±¼åº§å’Œæ°´ç“¶åº§æ˜¯å¾ˆå¥½çš„æ­é…ï¼Œå……æ»¡åˆ›é€ åŠ›å’Œç†è§£ã€‚" },
                pisces: { percent: 85, desc: "ä¸¤ä¸ªåŒé±¼åº§åœ¨ä¸€èµ·ä¼šå¾ˆæµªæ¼«ï¼Œä½†å¯èƒ½ä¼šè¿‡äºæ•æ„Ÿã€‚" }
            }
        };
        
        const fortuneScrolls = [
            { type: "love", text: "ä»Šæ—¥ä½ çš„çˆ±æƒ…è¿å¾ˆæ—ºï¼Œå¯èƒ½ä¼šé‡åˆ°ä»¤ä½ å¿ƒåŠ¨çš„äººã€‚" },
            { type: "career", text: "å·¥ä½œä¸Šä¼šæœ‰æ–°çš„æœºä¼šï¼ŒæŠ“ä½å®ƒï¼Œä½ ä¼šå–å¾—æ„æƒ³ä¸åˆ°çš„æˆåŠŸã€‚" },
            { type: "health", text: "ä»Šå¤©çš„å¥åº·çŠ¶å†µå¾ˆå¥½ï¼Œé€‚åˆè¿›è¡Œä¸€äº›æˆ·å¤–æ´»åŠ¨ã€‚" },
            { type: "wealth", text: "è´¢è¿äº¨é€šï¼Œå¯èƒ½ä¼šæœ‰æ„å¤–ä¹‹è´¢ã€‚" },
            { type: "friendship", text: "æœ‹å‹è¿ä¸é”™ï¼Œä»Šå¤©é€‚åˆå’Œæœ‹å‹ä»¬èšä¼šã€‚" },
            { type: "study", text: "å­¦ä¹ è¿å¾ˆå¥½ï¼Œä»Šå¤©æ˜¯å­¦ä¹ æ–°æŠ€èƒ½çš„å¥½æ—¥å­ã€‚" },
            { type: "travel", text: "æœ‰æœºä¼šå»æ—…è¡Œï¼Œä¼šæœ‰ä¸€æ®µæ„‰å¿«çš„æ—…ç¨‹ã€‚" },
            { type: "family", text: "å®¶åº­å’Œç¦ï¼Œä»Šå¤©é€‚åˆå’Œå®¶äººå…±åº¦æ—¶å…‰ã€‚" },
            { type: "luck", text: "ä»Šå¤©è¿æ°”å¾ˆå¥½ï¼Œåšä»€ä¹ˆäº‹æƒ…éƒ½ä¼šå¾ˆé¡ºåˆ©ã€‚" },
            { type: "happiness", text: "ä»Šå¤©å¿ƒæƒ…ä¼šå¾ˆå¥½ï¼Œåšä»€ä¹ˆäº‹æƒ…éƒ½å……æ»¡åŠ¨åŠ›ã€‚" }
        ];
        
        // æ¸¸æˆçŠ¶æ€å˜é‡
        let flippedCards = [];
        let matchedPairs = 0;
        let memoryScore = 0;
        let gameStarted = false;
        let timer;
        let seconds = 0;
        
        // æ•°æ®
        const messages = {
            sweet: [
                "å’Œä½ èŠå¤©å¾ˆå¼€å¿ƒï¼Œå¸Œæœ›æˆ‘ä»¬èƒ½æœ‰æ›´å¤šäº¤æµçš„æœºä¼š",
                "ä½ çš„æœ‹å‹åœˆå†…å®¹å¾ˆæœ‰è¶£ï¼Œæ€»èƒ½ç»™æˆ‘å¸¦æ¥å¥½å¿ƒæƒ…",
                "è®¤è¯†ä½ æ˜¯æˆ‘çš„è£å¹¸ï¼Œå¸Œæœ›èƒ½æ›´å¤šåœ°äº†è§£ä½ ",
                "æ¯æ¬¡å’Œä½ èŠå¤©éƒ½è§‰å¾—æ—¶é—´è¿‡å¾—ç‰¹åˆ«å¿«",
                "ä½ åˆ†äº«çš„éŸ³ä¹å¾ˆå¥½å¬ï¼Œæˆ‘ä¹Ÿå¾ˆå–œæ¬¢",
                "è°¢è°¢ä½ æ„¿æ„å’Œæˆ‘åˆ†äº«ä½ çš„ç”Ÿæ´»",
                "å’Œä½ äº¤æµè®©æˆ‘è§‰å¾—å¾ˆèˆ’æœï¼Œå¾ˆè‡ªç„¶",
                "ä½ çš„è§è§£å¾ˆç‹¬ç‰¹ï¼Œæ€»èƒ½ç»™æˆ‘æ–°çš„å¯å‘",
                "å¸Œæœ›æˆ‘ä»¬èƒ½æœ‰æœºä¼šä¸€èµ·å»åšä¸€äº›æœ‰è¶£çš„äº‹æƒ…",
                "è®¤è¯†ä½ ä¹‹åï¼Œæˆ‘å‘ç°ç”Ÿæ´»å˜å¾—æ›´åŠ æœ‰è¶£äº†"
            ],
            cute: [
                "ä½ ä»Šå¤©æœ‰æ²¡æœ‰å¥½å¥½ä¼‘æ¯å‘€ï¼Ÿå·¥ä½œå†å¿™ä¹Ÿè¦ç…§é¡¾å¥½è‡ªå·±å“¦",
                "å¬è¯´ä½ å–œæ¬¢æ—…æ¸¸ï¼Œæˆ‘ä¹Ÿå¾ˆå–œæ¬¢ï¼Œå¸Œæœ›æœ‰æœºä¼šèƒ½å¬ä½ åˆ†äº«æ›´å¤šæ—…è¡Œæ•…äº‹",
                "ä½ æ¨èçš„é‚£å®¶ç«é”…åº—æˆ‘å»å°è¯•äº†ï¼ŒçœŸçš„å¾ˆå¥½åƒï¼Œè°¢è°¢ä½ çš„æ¨è",
                "ä½œä¸ºç”Ÿç‰©è€å¸ˆï¼Œä½ ä¸€å®šå¾ˆæœ‰è€å¿ƒå§ï¼Ÿè¿™æ˜¯å¾ˆçè´µçš„å“è´¨",
                "å¬è¯´ä½ å‘çƒ§äº†è¿˜åšæŒå»ä¸Šç­ï¼ŒçœŸçš„å¾ˆæ•¬ä¸šï¼Œä¸è¿‡ä¹Ÿè¦æ³¨æ„èº«ä½“å‘€",
                "ä½ åˆ†äº«çš„ç¾é£Ÿçœ‹èµ·æ¥éƒ½å¾ˆç¾å‘³ï¼Œä½ ä¸€å®šå¾ˆä¼šäº«å—ç”Ÿæ´»",
                "ä½ çš„èº«é«˜170cmï¼Œæ˜¯æˆ‘ç†æƒ³ä¸­çš„èº«é«˜å‘¢",
                "ä½œä¸ºè€å¸ˆï¼Œä½ ä¸€å®šç»™å­¦ç”Ÿå¸¦æ¥äº†å¾ˆå¤šçŸ¥è¯†å’Œå¿«ä¹å§",
                "ä½ å–œæ¬¢åˆ†äº«çš„ä¹ æƒ¯å¾ˆå¥½ï¼Œè®©äººè§‰å¾—å¾ˆæ¸©æš–",
                "ä½ çš„çƒ­æƒ…å¤§æ–¹è®©äººæ„Ÿè§‰å¾ˆèˆ’æœï¼Œå’Œä½ ç›¸å¤„ä¸€å®šå¾ˆæ„‰å¿«"
            ],
            romantic: [
                "æˆ‘å¾ˆæ¬£èµä½ çš„å–„è‰¯å’Œæ•¬ä¸šï¼Œè¿™äº›å“è´¨å¾ˆå¸å¼•äºº",
                "å’Œä½ èŠå¤©è®©æˆ‘è§‰å¾—å¾ˆå¼€å¿ƒï¼Œå¸Œæœ›æˆ‘ä»¬èƒ½æœ‰æ›´å¤šå…±åŒè¯é¢˜",
                "ä½ çš„ç¬‘å®¹ä¸€å®šå¾ˆè¿·äººï¼Œè™½ç„¶æˆ‘ä»¬è¿˜æ²¡è§è¿‡é¢",
                "æˆ‘å¾ˆä½©æœä½ çš„èŒä¸šç²¾ç¥ï¼Œå‘çƒ§äº†è¿˜åšæŒå·¥ä½œï¼ŒçœŸçš„å¾ˆäº†ä¸èµ·",
                "å¸Œæœ›æœ‰ä¸€å¤©èƒ½å’Œä½ ä¸€èµ·å»åƒç«é”…ï¼Œå¬ä½ åˆ†äº«æ›´å¤šæ•…äº‹",
                "ä½ çš„æœ‹å‹åœˆç…§ç‰‡çœ‹èµ·æ¥å¾ˆæœ‰ç”Ÿæ´»æ°”æ¯ï¼Œè®©äººå‘å¾€",
                "æˆ‘å¾ˆæ¬£èµä½ çš„ç”Ÿæ´»æ€åº¦ï¼Œç§¯æå‘ä¸Šï¼Œå……æ»¡çƒ­æƒ…",
                "å¸Œæœ›æœ‰æœºä¼šèƒ½å’Œä½ ä¸€èµ·å»æ—…è¡Œï¼Œæ¢ç´¢æ›´å¤šç¾å¥½çš„åœ°æ–¹",
                "ä½ çš„ä¸“ä¸šæ˜¯ç”Ÿç‰©å­¦ï¼Œä¸€å®šå¾ˆæœ‰è¶£å§ï¼Ÿæˆ‘å¾ˆæƒ³å¬ä½ è®²è®²",
                "å’Œä½ äº¤æµè®©æˆ‘è§‰å¾—å¾ˆæœ‰æ„ä¹‰ï¼Œå¸Œæœ›æˆ‘ä»¬èƒ½ç»§ç»­ä¿æŒè”ç³»"
            ],
            encouraging: [
                "ä½ çœŸçš„å¾ˆæ£’ï¼Œä½œä¸ºè€å¸ˆä¸€å®šä»˜å‡ºäº†å¾ˆå¤šåŠªåŠ›",
                "å·¥ä½œå†å¿™ä¹Ÿè¦è®°å¾—ç…§é¡¾å¥½è‡ªå·±çš„èº«ä½“ï¼Œå¥åº·æœ€é‡è¦",
                "ç›¸ä¿¡è‡ªå·±çš„èƒ½åŠ›ï¼Œä½ å·²ç»åšå¾—å¾ˆå¥½äº†",
                "ä½ çš„æ•¬ä¸šç²¾ç¥å¾ˆå€¼å¾—æˆ‘å­¦ä¹ ï¼ŒçœŸçš„å¾ˆä½©æœä½ ",
                "ä¸è¦ç»™è‡ªå·±å¤ªå¤§å‹åŠ›ï¼Œé€‚å½“æ”¾æ¾ä¹Ÿæ˜¯å¾ˆé‡è¦çš„",
                "ä½ çš„å–„è‰¯å’Œçƒ­æƒ…ä¼šæ„ŸæŸ“èº«è¾¹çš„æ¯ä¸€ä¸ªäºº",
                "ç»§ç»­ä¿æŒå¯¹ç”Ÿæ´»çš„çƒ­çˆ±ï¼Œä½ ä¼šè¶Šæ¥è¶Šä¼˜ç§€çš„",
                "ä½ çš„åˆ†äº«ç»™å¾ˆå¤šäººå¸¦æ¥äº†å¿«ä¹ï¼ŒåŒ…æ‹¬æˆ‘",
                "ç›¸ä¿¡è‡ªå·±çš„é€‰æ‹©ï¼Œä½ èµ°çš„æ¯ä¸€æ­¥éƒ½æœ‰æ„ä¹‰",
                "ä½ æ˜¯ä¸€ä¸ªå¾ˆç‰¹åˆ«çš„äººï¼Œå€¼å¾—è¢«æ¬£èµå’Œçæƒœ"
            ]
        };
        
        const jokes = [
            "ä¸ºä»€ä¹ˆæ•°å­¦ä¹¦æ€»æ˜¯å¾ˆå¿§éƒï¼Ÿå› ä¸ºå®ƒæœ‰å¤ªå¤šçš„é—®é¢˜ã€‚",
            "æˆ‘é—®åŒ»ç”Ÿæˆ‘èƒ½ä¸èƒ½åšå‰§çƒˆè¿åŠ¨ï¼ŒåŒ»ç”Ÿè¯´ï¼š'ä½ å¯ä»¥åšä»»ä½•è¿åŠ¨ï¼Œåªè¦ä¸æ˜¯å‰§çƒˆçš„ã€‚'",
            "ä¸ºä»€ä¹ˆç¨‹åºå‘˜æ€»æ˜¯åˆ†ä¸æ¸…ä¸‡åœ£èŠ‚å’Œåœ£è¯èŠ‚ï¼Ÿå› ä¸º Oct 31 = Dec 25ã€‚",
            "æˆ‘å‘Šè¯‰æˆ‘çš„ç”µè„‘æˆ‘éœ€è¦ä¸€ä¸ª breakï¼Œå®ƒç»™äº†æˆ‘ä¸€ä¸ª KitKatã€‚",
            "ä¸ºä»€ä¹ˆç§‘å­¦å®¶ä¸ä¿¡ä»»åŸå­ï¼Ÿå› ä¸ºå®ƒä»¬æ„æˆäº†ä¸€åˆ‡ã€‚",
            "æˆ‘é—®æˆ‘çš„ç‹—ï¼š'ä½ æƒ³è¦ä»€ä¹ˆç¤¼ç‰©ï¼Ÿ' å®ƒè¯´ï¼š'æ±ªæ±ªæ±ªï¼' æˆ‘æƒ³å®ƒå¯èƒ½æƒ³è¦ä¸€ä¸ªéª¨å¤´ã€‚",
            "ä¸ºä»€ä¹ˆæ‰‹æœºæ€»æ˜¯å¾ˆå†·ï¼Ÿå› ä¸ºå®ƒä»¬æœ‰å¤ªå¤šçš„åº”ç”¨ç¨‹åºåœ¨åå°è¿è¡Œã€‚",
            "æˆ‘è¯•å›¾æŠ“ä½ fogï¼Œä½†æˆ‘ mist äº†ã€‚",
            "ä¸ºä»€ä¹ˆ scarecrow èµ¢å¾—äº†å¹´åº¦æœ€ä½³å‘˜å·¥å¥–ï¼Ÿå› ä¸ºä»–åœ¨ä»–çš„é¢†åŸŸé‡Œè¡¨ç°å‡ºè‰²ã€‚",
            "æˆ‘å‘Šè¯‰æˆ‘çš„å¦»å­å¥¹åº”è¯¥embrace her mistakes... å¥¹ç»™äº†æˆ‘ä¸€ä¸ª hugã€‚"
        ];
        
        const questions = [
            {
                text: "ä½ æœ€å–œæ¬¢çš„é¢œè‰²æ˜¯ä»€ä¹ˆï¼Ÿ",
                type: "options",
                options: ["ç²‰è‰²", "ç´«è‰²", "è“è‰²", "ç»¿è‰²", "é»„è‰²", "å…¶ä»–"],
                responses: {
                    "ç²‰è‰²": "å“‡ï¼Œç²‰è‰²ï¼å’Œä½ ä¸€æ ·å¯çˆ±å‘¢ï½å°±åƒæ˜¥å¤©é‡Œçš„æ¨±èŠ±ï¼Œæ¸©æŸ”åˆç”œç¾ï¼ğŸŒ¸",
                    "ç´«è‰²": "ç´«è‰²æ˜¯ç¥ç§˜åˆæµªæ¼«çš„é¢œè‰²å‘¢ï½å’Œä½ çš„æ°”è´¨å¾ˆé…å“¦ï¼åƒå¤œç©ºä¸­çš„æ˜Ÿæ˜Ÿï¼Œè®©äººç€è¿·ï½âœ¨",
                    "è“è‰²": "è“è‰²æ˜¯å¤©ç©ºå’Œæµ·æ´‹çš„é¢œè‰²ï¼Œç»™äººå¹³é™å’Œå®‰å¿ƒçš„æ„Ÿè§‰ï½å°±åƒä½ çš„ç¬‘å®¹ä¸€æ ·æ²»æ„ˆï¼ğŸŒŠ",
                    "ç»¿è‰²": "ç»¿è‰²æ˜¯ç”Ÿå‘½å’Œæ´»åŠ›çš„é¢œè‰²ï¼å–œæ¬¢ç»¿è‰²çš„ä½ ä¸€å®šå¾ˆçƒ­çˆ±ç”Ÿæ´»å§ï½ğŸŒ±",
                    "é»„è‰²": "é»„è‰²æ˜¯é˜³å…‰çš„é¢œè‰²ï¼å–œæ¬¢é»„è‰²çš„ä½ ä¸€å®šå¾ˆå¼€æœ—ä¹è§‚ï½åƒå°å¤ªé˜³ä¸€æ ·æ¸©æš–ï¼â˜€ï¸",
                    "å…¶ä»–": "ç‹¬ç‰¹çš„é¢œè‰²é€‰æ‹©ï¼è¯´æ˜ä½ ä¹Ÿæ˜¯ä¸ªç‰¹åˆ«çš„å¥³å­©å‘¢ï½æˆ‘å¾ˆå–œæ¬¢ï¼ğŸ˜‰"
                }
            },
            {
                text: "ä½ å–œæ¬¢ä»€ä¹ˆç±»å‹çš„éŸ³ä¹ï¼Ÿ",
                type: "options",
                options: ["æµè¡Œ", "æ‘‡æ»š", "å¤å…¸", "çˆµå£«", "ç”µå­", "å…¶ä»–"],
                responses: {
                    "æµè¡Œ": "æµè¡ŒéŸ³ä¹å¾ˆæœ‰æ´»åŠ›å‘¢ï¼å°±åƒä½ çš„æ€§æ ¼ä¸€æ ·å……æ»¡é­…åŠ›ï½ğŸ¤",
                    "æ‘‡æ»š": "æ‘‡æ»šï¼å¥½é…·å“¦ï½ä½ ä¸€å®šæ˜¯ä¸ªæœ‰ä¸ªæ€§çš„å¥³å­©ï¼ğŸ¤˜",
                    "å¤å…¸": "å¤å…¸éŸ³ä¹å¾ˆé«˜é›…å‘¢ï½å–œæ¬¢å¤å…¸éŸ³ä¹çš„ä½ ä¸€å®šå¾ˆæœ‰å“å‘³ï¼ğŸ»",
                    "çˆµå£«": "çˆµå£«éŸ³ä¹å¾ˆæœ‰æƒ…è°ƒå‘¢ï½ä½ ä¸€å®šæ˜¯ä¸ªæµªæ¼«çš„äººï¼ğŸ·",
                    "ç”µå­": "ç”µå­éŸ³ä¹å¾ˆæœ‰èŠ‚å¥æ„Ÿï¼å–œæ¬¢ç”µå­éŸ³ä¹çš„ä½ ä¸€å®šå¾ˆæœ‰æ´»åŠ›ï½ğŸ§",
                    "å…¶ä»–": "ç‹¬ç‰¹çš„éŸ³ä¹å“å‘³ï¼è¯´æ˜ä½ æ˜¯ä¸ªæœ‰ä¸ªæ€§çš„å¥³å­©ï½æˆ‘å¾ˆå–œæ¬¢ï¼ğŸ˜‰"
                }
            },
            {
                text: "ä½ æœ€å–œæ¬¢çš„å­£èŠ‚æ˜¯ï¼Ÿ",
                type: "options",
                options: ["æ˜¥å¤©", "å¤å¤©", "ç§‹å¤©", "å†¬å¤©"],
                responses: {
                    "æ˜¥å¤©": "æ˜¥å¤©æ˜¯ä¸‡ç‰©å¤è‹çš„å­£èŠ‚ï¼å–œæ¬¢æ˜¥å¤©çš„ä½ ä¸€å®šå¾ˆæ¸©æŸ”å§ï½ğŸŒ¸",
                    "å¤å¤©": "å¤å¤©æ˜¯çƒ­æƒ…å¥”æ”¾çš„å­£èŠ‚ï¼å–œæ¬¢å¤å¤©çš„ä½ ä¸€å®šå¾ˆå¼€æœ—ï½â˜€ï¸",
                    "ç§‹å¤©": "ç§‹å¤©æ˜¯æ”¶è·çš„å­£èŠ‚ï¼å–œæ¬¢ç§‹å¤©çš„ä½ ä¸€å®šå¾ˆæˆç†Ÿç¨³é‡ï½ğŸ‚",
                    "å†¬å¤©": "å†¬å¤©æ˜¯æµªæ¼«çš„å­£èŠ‚ï¼å–œæ¬¢å†¬å¤©çš„ä½ ä¸€å®šå¾ˆæœ‰æƒ³è±¡åŠ›ï½â„ï¸"
                }
            },
            {
                text: "ä½ å–œæ¬¢åƒç”œé£Ÿå—ï¼Ÿ",
                type: "options",
                options: ["éå¸¸å–œæ¬¢", "ä¸€èˆ¬", "ä¸å¤ªå–œæ¬¢", "ä¸å–œæ¬¢"],
                responses: {
                    "éå¸¸å–œæ¬¢": "ç”œé£Ÿæ§ä¸€æšï¼å’Œæˆ‘ä¸€æ ·å‘¢ï½ç”œé£Ÿèƒ½è®©äººå¿ƒæƒ…å˜å¥½ï¼Œå°±åƒä½ ä¸€æ ·èƒ½å¸¦ç»™äººå¿«ä¹ï¼ğŸ°",
                    "ä¸€èˆ¬": "é€‚é‡ç”œé£Ÿæœ‰ç›Šèº«å¿ƒï½ä½ ä¸€å®šæ˜¯ä¸ªå¾ˆæ‡‚å¾—å¹³è¡¡çš„å¥³å­©ï¼ğŸ˜‰",
                    "ä¸å¤ªå–œæ¬¢": "çœ‹æ¥ä½ å¾ˆæ³¨é‡å¥åº·å‘¢ï½çœŸæ˜¯ä¸ªè‡ªå¾‹çš„å¥½å¥³å­©ï¼ğŸ’ª",
                    "ä¸å–œæ¬¢": "å®Œå…¨ä¸åƒç”œé£Ÿå—ï¼Ÿå¥½ç‰¹åˆ«ï¼è¯´æ˜ä½ æ˜¯ä¸ªå¾ˆæœ‰åŸåˆ™çš„äººï½ğŸ‘"
                }
            },
            {
                text: "ä½ æœ€å–œæ¬¢çš„åŠ¨ç‰©æ˜¯ä»€ä¹ˆï¼Ÿ",
                type: "options",
                options: ["çŒ«", "ç‹—", "å…”å­", "ç†ŠçŒ«", "å…¶ä»–"],
                responses: {
                    "çŒ«": "çŒ«å’ªå¾ˆå¯çˆ±å‘¢ï½å–œæ¬¢çŒ«å’ªçš„ä½ ä¸€å®šå¾ˆæ¸©æŸ”æœ‰è€å¿ƒï¼ğŸ±",
                    "ç‹—": "ç‹—ç‹—å¾ˆå¿ è¯šå‘¢ï½å–œæ¬¢ç‹—ç‹—çš„ä½ ä¸€å®šå¾ˆæœ‰çˆ±å¿ƒï¼ğŸ¶",
                    "å…”å­": "å…”å­å¥½èŒå•Šï½å–œæ¬¢å…”å­çš„ä½ ä¸€å®šå¾ˆå¯çˆ±ï¼ğŸ°",
                    "ç†ŠçŒ«": "ç†ŠçŒ«æ˜¯å›½å®å‘¢ï½å–œæ¬¢ç†ŠçŒ«çš„ä½ ä¸€å®šå¾ˆæœ‰å“å‘³ï¼ğŸ¼",
                    "å…¶ä»–": "ç‹¬ç‰¹çš„é€‰æ‹©ï¼è¯´æ˜ä½ æ˜¯ä¸ªå¾ˆæœ‰ä¸ªæ€§çš„å¥³å­©ï½æˆ‘å¾ˆå–œæ¬¢ï¼ğŸ˜‰"
                }
            },
            {
                text: "ä½ å‘¨æœ«å–œæ¬¢åšä»€ä¹ˆï¼Ÿ",
                type: "custom",
                response: "å“‡ï¼Œå¬èµ·æ¥å¾ˆæœ‰è¶£å‘¢ï¼æˆ‘ä¹Ÿå¾ˆå–œæ¬¢è¿™æ ·åº¦è¿‡å‘¨æœ«ï½å¦‚æœæœ‰æœºä¼šï¼ŒçœŸæƒ³å’Œä½ ä¸€èµ·ä½“éªŒï¼ğŸ˜‰"
            },
            {
                text: "ä½ æœ‰ä»€ä¹ˆç‰¹åˆ«çš„çˆ±å¥½å—ï¼Ÿ",
                type: "custom",
                response: "è¿™ä¸ªçˆ±å¥½å¾ˆæ£’å‘¢ï¼èƒ½æœ‰è‡ªå·±çƒ­çˆ±çš„äº‹æƒ…æ˜¯å¾ˆå¹¸ç¦çš„ï½æˆ‘å¾ˆæƒ³äº†è§£æ›´å¤šï¼ğŸ˜Š"
            },
            {
                text: "ä½ æœ€è¿‘çœ‹çš„ä¸€éƒ¨å¥½ç”µå½±æ˜¯ä»€ä¹ˆï¼Ÿ",
                type: "custom",
                response: "è¿™éƒ¨ç”µå½±æˆ‘ä¹Ÿå¬è¯´è¿‡ï¼çœ‹æ¥æˆ‘ä»¬çš„å“å‘³å¾ˆç›¸ä¼¼å‘¢ï½æœ‰ç©ºçœŸæƒ³å’Œä½ ä¸€èµ·çœ‹ç”µå½±ï¼ğŸ¬"
            },
            {
                text: "ä½ æœ€å–œæ¬¢çš„é£Ÿç‰©æ˜¯ä»€ä¹ˆï¼Ÿ",
                type: "custom",
                response: "å“‡ï¼Œè¿™ä¸ªæˆ‘ä¹Ÿå–œæ¬¢ï¼çœ‹æ¥æˆ‘ä»¬å¾ˆæœ‰é»˜å¥‘å‘¢ï½æœ‰ç©ºä¸€å®šè¦ä¸€èµ·å»åƒï¼ğŸœ"
            },
            {
                text: "å¦‚æœå¯ä»¥å»ä»»ä½•åœ°æ–¹æ—…è¡Œï¼Œä½ ä¼šå»å“ªé‡Œï¼Ÿ",
                type: "custom",
                response: "è¿™ä¸ªåœ°æ–¹å¬èµ·æ¥å¾ˆç¾ï¼æˆ‘ä¹Ÿä¸€ç›´æƒ³å»å‘¢ï½å¦‚æœæœ‰æœºä¼šï¼ŒçœŸæƒ³å’Œä½ ä¸€èµ·å»ï¼âœˆï¸"
            }
        ];
        
        const surprises = [
            "ä½ çŸ¥é“å—ï¼Ÿæ¯å¤©æ—©ä¸Šé†’æ¥ï¼Œæˆ‘ç¬¬ä¸€ä¸ªæƒ³åˆ°çš„äººå°±æ˜¯ä½ ã€‚",
            "æˆ‘å·å·å‘Šè¯‰ä½ ä¸€ä¸ªç§˜å¯†ï¼šæˆ‘çœŸçš„å¾ˆå–œæ¬¢ä½ ã€‚",
            "ä½ ç¬‘èµ·æ¥çš„æ ·å­çœŸçš„å¾ˆè¿·äººï¼Œæ¯æ¬¡çœ‹åˆ°éƒ½ä¼šè®©æˆ‘å¿ƒåŠ¨ã€‚",
            "æˆ‘æ”¶è—äº†å¾ˆå¤šå…³äºä½ çš„ç…§ç‰‡ï¼Œæ¯æ¬¡æƒ³ä½ çš„æ—¶å€™å°±ä¼šæ‹¿å‡ºæ¥çœ‹ã€‚",
            "å’Œä½ èŠå¤©æ˜¯æˆ‘ä¸€å¤©ä¸­æœ€æœŸå¾…çš„äº‹æƒ…ã€‚",
            "ä½ æ˜¯æˆ‘è§è¿‡æœ€ç‰¹åˆ«çš„å¥³å­©ï¼Œä½ çš„å­˜åœ¨è®©æˆ‘çš„ä¸–ç•Œå˜å¾—æ›´åŠ ç¾å¥½ã€‚",
            "æˆ‘å–œæ¬¢å¬ä½ è¯´è¯ï¼Œä½ çš„å£°éŸ³å¾ˆæ¸©æŸ”ï¼Œè®©äººæ„Ÿåˆ°å®‰å¿ƒã€‚",
            "æ¯æ¬¡å’Œä½ åœ¨ä¸€èµ·ï¼Œæ—¶é—´éƒ½è¿‡å¾—ç‰¹åˆ«å¿«ï¼Œæˆ‘å¸Œæœ›å¯ä»¥ä¸€ç›´è¿™æ ·ä¸‹å»ã€‚",
            "ä½ æœ‰å¾ˆå¤šä¼˜ç‚¹ï¼Œä½†æˆ‘æœ€å–œæ¬¢çš„æ˜¯ä½ çš„å–„è‰¯å’Œä¹è§‚ã€‚",
            "æˆ‘çœŸçš„å¾ˆå¹¸è¿èƒ½å¤Ÿè®¤è¯†ä½ ï¼Œä½ æ˜¯æˆ‘ç”Ÿå‘½ä¸­çš„ç¤¼ç‰©ã€‚"
        ];
        
        // çŠ¶æ€å˜é‡
        let currentMessageIndex = 0;
        let currentMessageCategory = 'sweet';
        let currentJokeIndex = 0;
        let currentQuestionIndex = 0;
        let selectedMood = null;
        let answers = [];
        let diaryEntries = JSON.parse(localStorage.getItem('diaryEntries')) || [];
        let photos = JSON.parse(localStorage.getItem('photos')) || [];
        let affectionLevel = parseInt(localStorage.getItem('affectionLevel')) || 25;
        let visitedSections = JSON.parse(localStorage.getItem('visitedSections')) || [];
        
        // DOM å…ƒç´ 
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        const startJourneyBtn = document.getElementById('start-journey-btn');
        const surpriseBtn = document.getElementById('surprise-btn');
        const surpriseModal = document.getElementById('surprise-modal');
        const closeSurprise = document.getElementById('close-surprise');
        const surpriseMessage = document.getElementById('surprise-message');
        const currentMessage = document.getElementById('current-message');
        const messageBtns = document.querySelectorAll('.message-btn');
        const prevMessageBtn = document.getElementById('prev-message');
        const nextMessageBtn = document.getElementById('next-message');
        const randomMessageBtn = document.getElementById('random-message');
        const customMessageInput = document.getElementById('custom-message');
        const addMessageBtn = document.getElementById('add-message');
        const currentJoke = document.getElementById('current-joke');
        const randomJokeBtn = document.getElementById('random-joke');
        const ratingBtns = document.querySelectorAll('.rating-btn');
        const jokeRating = document.getElementById('joke-rating');
        const questionText = document.getElementById('question-text');
        const answerOptions = document.getElementById('answer-options');
        const customAnswerContainer = document.getElementById('custom-answer-container');
        const customAnswer = document.getElementById('custom-answer');
        const prevQuestionBtn = document.getElementById('prev-question');
        const nextQuestionBtn = document.getElementById('next-question');
        const submitAnswerBtn = document.getElementById('submit-answer');
        const answersHistory = document.getElementById('answers-history');
        const moodIcons = document.querySelectorAll('.mood-icon');
        const diaryEntry = document.getElementById('diary-entry');
        const saveDiaryBtn = document.getElementById('save-diary');
        const uploadPhotoBtn = document.getElementById('upload-photo');
        const photoInput = document.getElementById('photo-input');
        const photoPreview = document.getElementById('photo-preview');
        const previewImage = document.getElementById('preview-image');
        const photoCaptionContainer = document.getElementById('photo-caption-container');
        const photoCaption = document.getElementById('photo-caption');
        const photoGallery = document.getElementById('photo-gallery');
        const affectionMeter = document.getElementById('affection-meter');
        const affectionValue = document.getElementById('affection-value');
        const currentYear = document.getElementById('current-year');
        
        // åˆå§‹åŒ–
        function init() {
            // è®¾ç½®å½“å‰å¹´ä»½
            currentYear.textContent = new Date().getFullYear();
            
            // æ›´æ–°çˆ±å¿ƒæŒ‡æ•°
            updateAffectionMeter();
            
            // åˆå§‹åŒ–ç§»åŠ¨ç«¯èœå•
            mobileMenuButton.addEventListener('click', toggleMobileMenu);
            
            // åˆå§‹åŒ–å¹³æ»‘æ»šåŠ¨
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    
                    if (targetElement) {
                        window.scrollTo({
                            top: targetElement.offsetTop - 70,
                            behavior: 'smooth'
                        });
                        
                        // å¦‚æœæ˜¯ç§»åŠ¨ç«¯ï¼Œç‚¹å‡»åå…³é—­èœå•
                        if (mobileMenu.classList.contains('block')) {
                            toggleMobileMenu();
                        }
                        
                        // è®°å½•è®¿é—®çš„åŒºåŸŸ
                        if (!visitedSections.includes(targetId)) {
                            visitedSections.push(targetId);
                            localStorage.setItem('visitedSections', JSON.stringify(visitedSections));
                            increaseAffection(5);
                        }
                    }
                });
            });
            
            // åˆå§‹åŒ–å¼€å§‹æ¢ç´¢æŒ‰é’®
            startJourneyBtn.addEventListener('click', () => {
                document.querySelector('a[href="#messages"]').click();
            });
            
            // åˆå§‹åŒ–æƒŠå–œæŒ‰é’®
            surpriseBtn.addEventListener('click', showSurprise);
            closeSurprise.addEventListener('click', () => {
                surpriseModal.classList.add('hidden');
                createConfetti();
                increaseAffection(10);
            });
            
            // åˆå§‹åŒ–æš–å¿ƒè¯è¯­
            initMessages();
            
            // åˆå§‹åŒ–å¹½é»˜ç¬‘è¯
            initJokes();
            
            // åˆå§‹åŒ–äº’åŠ¨é—®ç­”
            initQuestions();
            
            // åˆå§‹åŒ–å¿ƒæƒ…æ—¥è®°
            initDiary();
            
            // åˆå§‹åŒ–ç…§ç‰‡å¢™
            initPhotos();
            
            // åˆå§‹åŒ–æ»šåŠ¨åŠ¨ç”»
            initScrollAnimations();
            
            // åˆå§‹åŒ– 3D èƒŒæ™¯
            initThreeBackground();
            
            // åˆå§‹åŒ–æ˜Ÿæ˜Ÿå’Œæµæ˜Ÿé›¨èƒŒæ™¯
            initStarsBackground();
            
            // åˆå§‹åŒ–æ—¥å†
            initCalendar();
            
            // åˆå§‹åŒ–å¿ƒæƒ…å›¾è¡¨
            initMoodChart();
        }
        
        // ç§»åŠ¨ç«¯èœå•åˆ‡æ¢
        function toggleMobileMenu() {
            mobileMenu.classList.toggle('hidden');
            mobileMenu.classList.toggle('block');
        }
        
        // æ˜¾ç¤ºæƒŠå–œå¼¹çª—
        function showSurprise() {
            const randomSurprise = surprises[Math.floor(Math.random() * surprises.length)];
            surpriseMessage.textContent = randomSurprise;
            surpriseModal.classList.remove('hidden');
        }
        
        // åˆå§‹åŒ–æš–å¿ƒè¯è¯­
        function initMessages() {
            // è®¾ç½®åˆå§‹æ¶ˆæ¯
            currentMessage.textContent = messages[currentMessageCategory][currentMessageIndex];
            
            // åˆ†ç±»æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            messageBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const category = btn.dataset.category;
                    currentMessageCategory = category;
                    currentMessageIndex = 0;
                    currentMessage.textContent = messages[category][currentMessageIndex];
                    
                    // æ›´æ–°æŒ‰é’®æ ·å¼
                    messageBtns.forEach(b => b.classList.remove('bg-opacity-20'));
                    btn.classList.add('bg-opacity-20');
                    
                    // å¢åŠ çˆ±å¿ƒæŒ‡æ•°
                    increaseAffection(2);
                });
            });
            
            // ä¸Šä¸€æ¡æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            prevMessageBtn.addEventListener('click', () => {
                if (currentMessageIndex > 0) {
                    currentMessageIndex--;
                    currentMessage.textContent = messages[currentMessageCategory][currentMessageIndex];
                }
            });
            
            // ä¸‹ä¸€æ¡æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            nextMessageBtn.addEventListener('click', () => {
                if (currentMessageIndex < messages[currentMessageCategory].length - 1) {
                    currentMessageIndex++;
                    currentMessage.textContent = messages[currentMessageCategory][currentMessageIndex];
                }
            });
            
            // éšæœºä¸€æ¡æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            randomMessageBtn.addEventListener('click', () => {
                const randomCategory = Object.keys(messages)[Math.floor(Math.random() * Object.keys(messages).length)];
                const randomIndex = Math.floor(Math.random() * messages[randomCategory].length);
                
                currentMessageCategory = randomCategory;
                currentMessageIndex = randomIndex;
                currentMessage.textContent = messages[randomCategory][randomIndex];
                
                // æ›´æ–°æŒ‰é’®æ ·å¼
                messageBtns.forEach(btn => {
                    if (btn.dataset.category === randomCategory) {
                        btn.classList.add('bg-opacity-20');
                    } else {
                        btn.classList.remove('bg-opacity-20');
                    }
                });
                
                // å¢åŠ çˆ±å¿ƒæŒ‡æ•°
                increaseAffection(2);
                
                // åˆ›å»ºçˆ±å¿ƒåŠ¨ç”»
                createHeart();
            });
            
            // æ·»åŠ è‡ªå®šä¹‰æ¶ˆæ¯
            addMessageBtn.addEventListener('click', () => {
                const customMsg = customMessageInput.value.trim();
                if (customMsg) {
                    messages[currentMessageCategory].push(customMsg);
                    currentMessageIndex = messages[currentMessageCategory].length - 1;
                    currentMessage.textContent = customMsg;
                    customMessageInput.value = '';
                    
                    // å¢åŠ çˆ±å¿ƒæŒ‡æ•°
                    increaseAffection(5);
                    
                    // åˆ›å»ºçˆ±å¿ƒåŠ¨ç”»
                    createHeart();
                    
                    // æ˜¾ç¤ºæˆåŠŸæç¤º
                    showToast('æ·»åŠ æˆåŠŸï¼');
                }
            });
        }
        
        // åˆå§‹åŒ–å¹½é»˜ç¬‘è¯
        function initJokes() {
            // è®¾ç½®åˆå§‹ç¬‘è¯
            currentJoke.textContent = jokes[currentJokeIndex];
            
            // éšæœºç¬‘è¯æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            randomJokeBtn.addEventListener('click', () => {
                currentJokeIndex = Math.floor(Math.random() * jokes.length);
                currentJoke.textContent = jokes[currentJokeIndex];
                jokeRating.textContent = 'è¿™ä¸ªç¬‘è¯å¥½ç¬‘å—ï¼Ÿ';
                
                // å¢åŠ çˆ±å¿ƒæŒ‡æ•°
                increaseAffection(1);
                
                // åˆ›å»ºçˆ±å¿ƒåŠ¨ç”»
                createHeart();
            });
            
            // è¯„åˆ†æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            ratingBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const rating = btn.dataset.rating;
                    
                    if (rating === 'funny') {
                        jokeRating.textContent = 'å¤ªå¥½äº†ï¼Œæˆ‘å¾ˆé«˜å…´èƒ½è®©ä½ å¼€å¿ƒï¼';
                        increaseAffection(3);
                        createHeart();
                    } else {
                        jokeRating.textContent = 'å¥½å§ï¼Œæˆ‘ä¼šåŠªåŠ›åšå¾—æ›´å¥½çš„ï¼';
                    }
                });
            });
        }
        
        // åˆå§‹åŒ–äº’åŠ¨é—®ç­”
        function initQuestions() {
            // ä¸‹ä¸€é¢˜æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            nextQuestionBtn.addEventListener('click', () => {
                if (currentQuestionIndex < questions.length) {
                    showQuestion(currentQuestionIndex);
                    currentQuestionIndex++;
                    
                    // æ›´æ–°æŒ‰é’®çŠ¶æ€
                    prevQuestionBtn.disabled = currentQuestionIndex <= 1;
                    nextQuestionBtn.disabled = currentQuestionIndex >= questions.length;
                    submitAnswerBtn.disabled = false;
                    
                    // å¢åŠ çˆ±å¿ƒæŒ‡æ•°
                    increaseAffection(3);
                }
            });
            
            // ä¸Šä¸€é¢˜æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            prevQuestionBtn.addEventListener('click', () => {
                if (currentQuestionIndex > 1) {
                    currentQuestionIndex--;
                    showQuestion(currentQuestionIndex - 1);
                    
                    // æ›´æ–°æŒ‰é’®çŠ¶æ€
                    prevQuestionBtn.disabled = currentQuestionIndex <= 1;
                    nextQuestionBtn.disabled = false;
                    submitAnswerBtn.disabled = false;
                }
            });
            
            // æäº¤ç­”æ¡ˆæŒ‰é’®ç‚¹å‡»äº‹ä»¶
            submitAnswerBtn.addEventListener('click', () => {
                const question = questions[currentQuestionIndex - 1];
                let userAnswer;
                
                if (question.type === 'options') {
                    const selectedOption = document.querySelector('input[name="answer"]:checked');
                    if (!selectedOption) {
                        showToast('è¯·é€‰æ‹©ä¸€ä¸ªé€‰é¡¹');
                        return;
                    }
                    userAnswer = selectedOption.value;
                } else {
                    userAnswer = customAnswer.value.trim();
                    if (!userAnswer) {
                        showToast('è¯·è¾“å…¥ä½ çš„å›ç­”');
                        return;
                    }
                    customAnswer.value = '';
                }
                
                // ä¿å­˜ç­”æ¡ˆ
                answers.push({
                    question: question.text,
                    answer: userAnswer,
                    date: new Date().toLocaleString()
                });
                
                // æ›´æ–°å†å²å›ç­”
                updateAnswersHistory();
                
                // é‡ç½®é€‰é¡¹
                answerOptions.innerHTML = '';
                answerOptions.classList.add('hidden');
                customAnswerContainer.classList.add('hidden');
                
                // æ›´æ–°æŒ‰é’®çŠ¶æ€
                submitAnswerBtn.disabled = true;
                
                // æ˜¾ç¤ºæˆåŠŸæç¤º
                showToast('å›ç­”å·²ä¿å­˜ï¼');
                
                // å¢åŠ çˆ±å¿ƒæŒ‡æ•°
                increaseAffection(5);
                
                // åˆ›å»ºçˆ±å¿ƒåŠ¨ç”»
                createHeart();
                
                // å¦‚æœæ˜¯æœ€åä¸€é¢˜ï¼Œæ˜¾ç¤ºå®Œæˆæç¤º
                if (currentQuestionIndex >= questions.length) {
                    questionText.textContent = 'é—®ç­”å®Œæˆï¼è°¢è°¢ä½ çš„å‚ä¸ â¤ï¸';
                    nextQuestionBtn.textContent = 'é‡æ–°å¼€å§‹';
                    nextQuestionBtn.disabled = false;
                    nextQuestionBtn.addEventListener('click', () => {
                        currentQuestionIndex = 0;
                        questionText.textContent = 'ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å¼€å§‹é—®ç­”å§ï¼';
                        nextQuestionBtn.textContent = 'å¼€å§‹é—®ç­”';
                        nextQuestionBtn.disabled = false;
                        prevQuestionBtn.disabled = true;
                    }, { once: true });
                }
            });
            
            // æ›´æ–°å†å²å›ç­”
            updateAnswersHistory();
        }
        
        // æ˜¾ç¤ºé—®é¢˜
        function showQuestion(index) {
            const question = questions[index];
            questionText.textContent = question.text;
            
            if (question.type === 'options') {
                answerOptions.innerHTML = '';
                question.options.forEach(option => {
                    const optionDiv = document.createElement('div');
                    optionDiv.className = 'flex items-center';
                    optionDiv.innerHTML = `
                        <input type="radio" id="option-${option}" name="answer" value="${option}" class="mr-2">
                        <label for="option-${option}">${option}</label>
                    `;
                    answerOptions.appendChild(optionDiv);
                });
                answerOptions.classList.remove('hidden');
                customAnswerContainer.classList.add('hidden');
            } else {
                answerOptions.classList.add('hidden');
                customAnswerContainer.classList.remove('hidden');
            }
        }
        
        // æ›´æ–°å†å²å›ç­”
        function updateAnswersHistory() {
            if (answers.length === 0) {
                answersHistory.innerHTML = '<p class="text-center text-gray-500">æš‚æ— å›ç­”è®°å½•</p>';
                return;
            }
            
            answersHistory.innerHTML = '';
            answers.forEach((item, index) => {
                const answerDiv = document.createElement('div');
                answerDiv.className = 'mb-4 pb-4 border-b border-gray-100';
                answerDiv.innerHTML = `
                    <p class="font-medium">${index + 1}. ${item.question}</p>
                    <p class="text-primary">${item.answer}</p>
                    <p class="text-xs text-gray-500">${item.date}</p>
                `;
                answersHistory.appendChild(answerDiv);
            });
        }
        
        // åˆå§‹åŒ–å¿ƒæƒ…æ—¥è®°
        function initDiary() {
            // å¿ƒæƒ…å›¾æ ‡ç‚¹å‡»äº‹ä»¶
            moodIcons.forEach(icon => {
                icon.addEventListener('click', () => {
                    moodIcons.forEach(i => i.classList.remove('selected'));
                    icon.classList.add('selected');
                    selectedMood = icon.dataset.mood;
                    
                    // å¢åŠ çˆ±å¿ƒæŒ‡æ•°
                    increaseAffection(2);
                });
            });
            
            // ä¿å­˜æ—¥è®°æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            saveDiaryBtn.addEventListener('click', () => {
                const entry = diaryEntry.value.trim();
                if (!entry) {
                    showToast('è¯·è¾“å…¥æ—¥è®°å†…å®¹');
                    return;
                }
                
                if (!selectedMood) {
                    showToast('è¯·é€‰æ‹©å¿ƒæƒ…');
                    return;
                }
                
                // ä¿å­˜æ—¥è®°
                const today = new Date().toISOString().split('T')[0];
                diaryEntries.push({
                    date: today,
                    mood: selectedMood,
                    content: entry
                });
                
                localStorage.setItem('diaryEntries', JSON.stringify(diaryEntries));
                
                // é‡ç½®è¡¨å•
                diaryEntry.value = '';
                moodIcons.forEach(i => i.classList.remove('selected'));
                selectedMood = null;
                
                // æ›´æ–°æ—¥å†å’Œå›¾è¡¨
                initCalendar();
                initMoodChart();
                
                // æ˜¾ç¤ºæˆåŠŸæç¤º
                showToast('æ—¥è®°å·²ä¿å­˜ï¼');
                
                // å¢åŠ çˆ±å¿ƒæŒ‡æ•°
                increaseAffection(5);
                
                // åˆ›å»ºçˆ±å¿ƒåŠ¨ç”»
                createHeart();
            });
        }
        
        // åˆå§‹åŒ–æ—¥å†
        function initCalendar() {
            const calendarGrid = document.querySelector('.grid.grid-cols-7');
            
            // æ¸…ç©ºæ—¥å†
            while (calendarGrid.children.length > 7) {
                calendarGrid.removeChild(calendarGrid.lastChild);
            }
            
            // è·å–å½“å‰æœˆä»½
            const today = new Date();
            const currentMonth = today.getMonth();
            const currentYear = today.getFullYear();
            const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();
            const firstDayOfMonth = new Date(currentYear, currentMonth, 1).getDay();
            
            // æ·»åŠ ç©ºç™½æ ¼å­
            for (let i = 0; i < firstDayOfMonth; i++) {
                const emptyCell = document.createElement('div');
                emptyCell.className = 'h-10';
                calendarGrid.appendChild(emptyCell);
            }
            
            // æ·»åŠ æ—¥æœŸæ ¼å­
            for (let day = 1; day <= daysInMonth; day++) {
                const dateCell = document.createElement('div');
                const dateString = `${currentYear}-${String(currentMonth + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                
                // æŸ¥æ‰¾å½“å¤©çš„æ—¥è®°
                const entry = diaryEntries.find(e => e.date === dateString);
                
                if (entry) {
                    let moodColor;
                    switch (entry.mood) {
                        case 'happy':
                            moodColor = 'bg-yellow-400';
                            break;
                        case 'shy':
                            moodColor = 'bg-pink-300';
                            break;
                        case 'excited':
                            moodColor = 'bg-purple-400';
                            break;
                        case 'love':
                            moodColor = 'bg-red-400';
                            break;
                        default:
                            moodColor = 'bg-gray-300';
                    }
                    
                    dateCell.className = `h-10 flex items-center justify-center rounded-full ${moodColor} text-white cursor-pointer hover:scale-110 transition-transform`;
                    dateCell.textContent = day;
                    
                    // æ·»åŠ ç‚¹å‡»äº‹ä»¶æŸ¥çœ‹æ—¥è®°è¯¦æƒ…
                    dateCell.addEventListener('click', () => {
                        showDiaryDetail(entry);
                    });
                } else {
                    dateCell.className = 'h-10 flex items-center justify-center rounded-full hover:bg-gray-100 transition-colors';
                    dateCell.textContent = day;
                }
                
                calendarGrid.appendChild(dateCell);
            }
        }
        
        // æ˜¾ç¤ºæ—¥è®°è¯¦æƒ…
        function showDiaryDetail(entry) {
            let moodEmoji;
            switch (entry.mood) {
                case 'happy':
                    moodEmoji = 'ğŸ˜Š';
                    break;
                case 'shy':
                    moodEmoji = 'ğŸ˜³';
                    break;
                case 'excited':
                    moodEmoji = 'ğŸ˜';
                    break;
                case 'love':
                    moodEmoji = 'â¤ï¸';
                    break;
                default:
                    moodEmoji = 'ğŸ˜';
            }
            
            const date = new Date(entry.date);
            const formattedDate = `${date.getFullYear()}å¹´${date.getMonth() + 1}æœˆ${date.getDate()}æ—¥`;
            
            alert(`${formattedDate} ${moodEmoji}\n\n${entry.content}`);
        }
        
        // åˆå§‹åŒ–å¿ƒæƒ…å›¾è¡¨
        function initMoodChart() {
            const ctx = document.getElementById('mood-chart').getContext('2d');
            
            // å‡†å¤‡æ•°æ®
            const moodData = {
                happy: 0,
                shy: 0,
                excited: 0,
                love: 0
            };
            
            diaryEntries.forEach(entry => {
                if (moodData[entry.mood]) {
                    moodData[entry.mood]++;
                }
            });
            
            // åˆ›å»ºå›¾è¡¨
            if (window.moodChart) {
                window.moodChart.destroy();
            }
            
            window.moodChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['å¼€å¿ƒ', 'å®³ç¾', 'å…´å¥‹', 'çˆ±å¿ƒ'],
                    datasets: [{
                        label: 'å¿ƒæƒ…åˆ†å¸ƒ',
                        data: [moodData.happy, moodData.shy, moodData.excited, moodData.love],
                        backgroundColor: [
                            'rgba(251, 191, 36, 0.7)',
                            'rgba(252, 165, 165, 0.7)',
                            'rgba(192, 132, 252, 0.7)',
                            'rgba(244, 63, 94, 0.7)'
                        ],
                        borderColor: [
                            'rgb(251, 191, 36)',
                            'rgb(252, 165, 165)',
                            'rgb(192, 132, 252)',
                            'rgb(244, 63, 94)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                precision: 0
                            }
                        }
                    }
                }
            });
        }
        
        // åˆå§‹åŒ–ç…§ç‰‡å¢™
        function initPhotos() {
            // ä¸Šä¼ ç…§ç‰‡æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            uploadPhotoBtn.addEventListener('click', () => {
                photoInput.click();
            });
            
            // ç…§ç‰‡è¾“å…¥å˜åŒ–äº‹ä»¶
            photoInput.addEventListener('change', (e) => {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = (event) => {
                        previewImage.src = event.target.result;
                        photoPreview.classList.remove('hidden');
                        photoCaptionContainer.classList.remove('hidden');
                    };
                    reader.readAsDataURL(file);
                }
            });
            
            // ç›‘å¬ photo-caption çš„å›è½¦äº‹ä»¶
            photoCaption.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    savePhoto();
                }
            });
            
            // æ˜¾ç¤ºç…§ç‰‡å¢™
            displayPhotos();
        }
        
        // ä¿å­˜ç…§ç‰‡
        function savePhoto() {
            const caption = photoCaption.value.trim();
            const photoUrl = previewImage.src;
            
            if (!photoUrl) {
                showToast('è¯·å…ˆé€‰æ‹©ç…§ç‰‡');
                return;
            }
            
            // ä¿å­˜ç…§ç‰‡
            photos.push({
                url: photoUrl,
                caption: caption,
                date: new Date().toLocaleString()
            });
            
            localStorage.setItem('photos', JSON.stringify(photos));
            
            // é‡ç½®è¡¨å•
            photoInput.value = '';
            photoPreview.classList.add('hidden');
            photoCaptionContainer.classList.add('hidden');
            photoCaption.value = '';
            
            // æ›´æ–°ç…§ç‰‡å¢™
            displayPhotos();
            
            // æ˜¾ç¤ºæˆåŠŸæç¤º
            showToast('ç…§ç‰‡å·²ä¿å­˜ï¼');
            
            // å¢åŠ çˆ±å¿ƒæŒ‡æ•°
            increaseAffection(10);
            
            // åˆ›å»ºçˆ±å¿ƒåŠ¨ç”»
            createHeart();
        }
        
        // æ˜¾ç¤ºç…§ç‰‡å¢™
        function displayPhotos() {
            if (photos.length === 0) {
                photoGallery.innerHTML = '<div class="text-center col-span-full text-gray-500 py-8">æš‚æ— ç…§ç‰‡ï¼Œä¸Šä¼ ç¬¬ä¸€å¼ ç…§ç‰‡å§ï¼</div>';
                return;
            }
            
            photoGallery.innerHTML = '';
            photos.forEach((photo, index) => {
                const photoDiv = document.createElement('div');
                photoDiv.className = 'relative group card-hover';
                photoDiv.innerHTML = `
                    <div class="photo-frame p-2">
                        <img src="${photo.url}" alt="${photo.caption}" class="w-full h-48 object-cover rounded-lg">
                    </div>
                    <div class="absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center rounded-lg">
                        <button class="delete-photo bg-white text-red-500 rounded-full w-8 h-8 flex items-center justify-center" data-index="${index}">
                            <i class="fa fa-trash"></i>
                        </button>
                    </div>
                    ${photo.caption ? `<p class="mt-2 text-sm text-gray-600">${photo.caption}</p>` : ''}
                    <p class="text-xs text-gray-500">${photo.date}</p>
                `;
                photoGallery.appendChild(photoDiv);
            });
            
            // æ·»åŠ åˆ é™¤ç…§ç‰‡äº‹ä»¶
            document.querySelectorAll('.delete-photo').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const index = parseInt(e.currentTarget.dataset.index);
                    photos.splice(index, 1);
                    localStorage.setItem('photos', JSON.stringify(photos));
                    displayPhotos();
                    showToast('ç…§ç‰‡å·²åˆ é™¤');
                });
            });
        }
        
        // åˆå§‹åŒ–æ»šåŠ¨åŠ¨ç”»
        function initScrollAnimations() {
            const sections = document.querySelectorAll('.section');
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                        
                        // è®°å½•è®¿é—®çš„åŒºåŸŸ
                        const targetId = '#' + entry.target.id;
                        if (!visitedSections.includes(targetId) && targetId !== '#') {
                            visitedSections.push(targetId);
                            localStorage.setItem('visitedSections', JSON.stringify(visitedSections));
                            increaseAffection(5);
                        }
                    }
                });
            }, { threshold: 0.1 });
            
            sections.forEach(section => {
                observer.observe(section);
            });
        }
        
        // åˆå§‹åŒ–éŸ³é¢‘
        function initAudio() {
            const audio = document.getElementById('background-music');
            const musicToggle = document.getElementById('music-toggle');
            const mobileMusicToggle = document.getElementById('mobile-music-toggle');
            
            // å°è¯•è‡ªåŠ¨æ’­æ”¾ï¼ˆé™éŸ³çŠ¶æ€ï¼‰
            audio.play().then(() => {
                console.log('éŸ³é¢‘è‡ªåŠ¨æ’­æ”¾å·²å¼€å§‹ï¼ˆé™éŸ³çŠ¶æ€ï¼‰');
                // 3ç§’åè‡ªåŠ¨å–æ¶ˆé™éŸ³
                setTimeout(() => {
                    audio.muted = false;
                    updateMusicButton(true);
                }, 3000);
            }).catch(error => {
                console.log('è‡ªåŠ¨æ’­æ”¾è¢«é˜»æ­¢ï¼Œç­‰å¾…ç”¨æˆ·äº¤äº’:', error);
            });
            
            // éŸ³ä¹å¼€å…³ç‚¹å‡»äº‹ä»¶
            function toggleMusic() {
                if (audio.paused) {
                    audio.play().then(() => {
                        // æ’­æ”¾æˆåŠŸåå–æ¶ˆé™éŸ³
                        audio.muted = false;
                        updateMusicButton(true);
                    }).catch(error => {
                        console.log('æ’­æ”¾å¤±è´¥:', error);
                        // æ˜¾ç¤ºæç¤º
                        showToast('è¯·ç‚¹å‡»é¡µé¢ä»»æ„ä½ç½®åå†å°è¯•æ’­æ”¾éŸ³ä¹');
                    });
                } else {
                    audio.pause();
                    updateMusicButton(false);
                }
            }
            
            // æ›´æ–°éŸ³ä¹æŒ‰é’®çŠ¶æ€
            function updateMusicButton(isPlaying) {
                if (isPlaying) {
                    musicToggle.innerHTML = '<i class="fa fa-pause"></i>';
                    mobileMusicToggle.innerHTML = '<i class="fa fa-pause"></i>';
                } else {
                    musicToggle.innerHTML = '<i class="fa fa-music"></i>';
                    mobileMusicToggle.innerHTML = '<i class="fa fa-music"></i>';
                }
            }
            
            // ç»‘å®šéŸ³ä¹å¼€å…³äº‹ä»¶
            musicToggle.addEventListener('click', toggleMusic);
            mobileMusicToggle.addEventListener('click', toggleMusic);
            
            // ç›‘å¬é¡µé¢ä»»æ„ç‚¹å‡»ï¼Œç”¨äºè§£é”éŸ³é¢‘
            document.addEventListener('click', function unlockAudio() {
                // å°è¯•æ’­æ”¾ï¼ˆå¦‚æœè¿˜æ²¡æ’­æ”¾ï¼‰
                if (audio.paused) {
                    audio.play().then(() => {
                        audio.muted = false;
                        updateMusicButton(true);
                    }).catch(error => {
                        console.log('è§£é”éŸ³é¢‘å¤±è´¥:', error);
                    });
                }
                
                // ç§»é™¤äº‹ä»¶ç›‘å¬ï¼Œåªéœ€è¦ä¸€æ¬¡äº¤äº’
                document.removeEventListener('click', unlockAudio);
            }, { once: true });
        }
        
        // åˆå§‹åŒ– 3D èƒŒæ™¯
        function initThreeBackground() {
            const container = document.getElementById('canvas-container');
            
            // åˆ›å»ºåœºæ™¯
            const scene = new THREE.Scene();
            
            // åˆ›å»ºç›¸æœº
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.z = 5;
            
            // åˆ›å»ºæ¸²æŸ“å™¨
            const renderer = new THREE.WebGLRenderer({ alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            container.appendChild(renderer.domElement);
            
            // åˆ›å»ºç²’å­
            const particlesGeometry = new THREE.BufferGeometry();
            const particlesCount = 1500;
            
            const posArray = new Float32Array(particlesCount * 3);
            
            for (let i = 0; i < particlesCount * 3; i++) {
                posArray[i] = (Math.random() - 0.5) * 15;
            }
            
            particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
            
            // åˆ›å»ºæè´¨
            const particlesMaterial = new THREE.PointsMaterial({
                size: 0.02,
                color: 0xFF69B4,
                transparent: true,
                opacity: 0.8
            });
            
            // åˆ›å»ºç²’å­ç³»ç»Ÿ
            const particlesMesh = new THREE.Points(particlesGeometry, particlesMaterial);
            scene.add(particlesMesh);
            
            // åŠ¨ç”»
            function animate() {
                requestAnimationFrame(animate);
                
                particlesMesh.rotation.y += 0.001;
                
                renderer.render(scene, camera);
            }
            
            animate();
            
            // å“åº”çª—å£å¤§å°å˜åŒ–
            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });
        }
        
        // åˆå§‹åŒ–æ˜Ÿæ˜Ÿå’Œæµæ˜Ÿé›¨èƒŒæ™¯
        function initStarsBackground() {
            const starsContainer = document.getElementById('stars-container');
            
            // åˆ›å»ºæ˜Ÿæ˜Ÿ
            for (let i = 0; i < 150; i++) {
                createStar(starsContainer);
            }
            
            // å®šæ—¶åˆ›å»ºæµæ˜Ÿé›¨
            setInterval(() => {
                createMeteor(starsContainer);
            }, 2000);
        }
        
        // åˆ›å»ºæ˜Ÿæ˜Ÿ
        function createStar(container) {
            const star = document.createElement('div');
            star.className = 'star';
            
            // éšæœºå¤§å°
            const size = Math.random() * 3;
            
            // éšæœºä½ç½®
            const x = Math.random() * 100;
            const y = Math.random() * 100;
            
            // éšæœºåŠ¨ç”»å»¶è¿Ÿå’ŒæŒç»­æ—¶é—´
            const delay = Math.random() * 5;
            const duration = 3 + Math.random() * 7;
            
            star.style.width = `${size}px`;
            star.style.height = `${size}px`;
            star.style.left = `${x}%`;
            star.style.top = `${y}%`;
            star.style.animationDelay = `${delay}s`;
            star.style.animationDuration = `${duration}s`;
            
            container.appendChild(star);
        }
        
        // åˆ›å»ºæµæ˜Ÿé›¨
        function createMeteor(container) {
            const meteor = document.createElement('div');
            meteor.className = 'meteor';
            
            // éšæœºé•¿åº¦
            const length = 50 + Math.random() * 150;
            
            // éšæœºä½ç½®ï¼ˆä»å³ä¾§å‡ºç°ï¼‰
            const y = Math.random() * 50;
            
            // éšæœºåŠ¨ç”»æŒç»­æ—¶é—´
            const duration = 1 + Math.random() * 2;
            
            meteor.style.height = `${length}px`;
            meteor.style.right = '-10px';
            meteor.style.top = `${y}%`;
            meteor.style.animationDuration = `${duration}s`;
            
            container.appendChild(meteor);
            
            // åŠ¨ç”»ç»“æŸåç§»é™¤
            setTimeout(() => {
                meteor.remove();
            }, duration * 1000);
        }
        
        // åˆ›å»ºçˆ±å¿ƒåŠ¨ç”»
        function createHeart() {
            const heartContainer = document.getElementById('heartContainer');
            const heart = document.createElement('div');
            heart.className = 'heart';
            
            // éšæœºä½ç½®
            const x = Math.random() * window.innerWidth;
            const y = Math.random() * window.innerHeight;
            
            // éšæœºåŠ¨ç”»æŒç»­æ—¶é—´
            const duration = 3 + Math.random() * 2;
            
            heart.style.left = `${x}px`;
            heart.style.top = `${y}px`;
            heart.style.animationDuration = `${duration}s`;
            
            heartContainer.appendChild(heart);
            
            // åŠ¨ç”»ç»“æŸåç§»é™¤
            setTimeout(() => {
                heart.remove();
            }, duration * 1000);
        }
        
        // åˆ›å»ºåº†ç¥æ•ˆæœ
        function createConfetti() {
            const confettiContainer = document.getElementById('confettiContainer');
            
            // åˆ›å»º 100 ä¸ªçº¸å±‘
            for (let i = 0; i < 100; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                
                // éšæœºä½ç½®
                const x = Math.random() * window.innerWidth;
                
                // éšæœºé¢œè‰²
                const colors = ['#FF69B4', '#9370DB', '#FFB6C1', '#FFD700', '#FF6347'];
                const color = colors[Math.floor(Math.random() * colors.length)];
                
                // éšæœºåŠ¨ç”»æŒç»­æ—¶é—´
                const duration = 2 + Math.random() * 3;
                
                // éšæœºå¤§å°
                const size = 5 + Math.random() * 10;
                
                confetti.style.left = `${x}px`;
                confetti.style.backgroundColor = color;
                confetti.style.width = `${size}px`;
                confetti.style.height = `${size}px`;
                confetti.style.animationDuration = `${duration}s`;
                
                confettiContainer.appendChild(confetti);
                
                // åŠ¨ç”»ç»“æŸåç§»é™¤
                setTimeout(() => {
                    confetti.remove();
                }, duration * 1000);
            }
        }
        
        // æ›´æ–°çˆ±å¿ƒæŒ‡æ•°
        function updateAffectionMeter() {
            affectionMeter.style.width = `${affectionLevel}%`;
            affectionValue.textContent = `${affectionLevel}%`;
            
            // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
            localStorage.setItem('affectionLevel', affectionLevel);
        }
        
        // å¢åŠ çˆ±å¿ƒæŒ‡æ•°
        function increaseAffection(amount) {
            affectionLevel = Math.min(100, affectionLevel + amount);
            updateAffectionMeter();
            
            // å¦‚æœè¾¾åˆ° 100%ï¼Œæ˜¾ç¤ºåº†ç¥æ•ˆæœ
            if (affectionLevel >= 100) {
                setTimeout(() => {
                    createConfetti();
                    showToast('æ­å–œï¼å¿ƒåŠ¨æŒ‡æ•°å·²æ»¡æ ¼ â¤ï¸');
                }, 500);
            }
        }
        
        // æ˜¾ç¤ºæç¤ºæ¶ˆæ¯
        function showToast(message) {
            // åˆ›å»ºæç¤ºå…ƒç´ 
            const toast = document.createElement('div');
            toast.className = 'fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white px-4 py-2 rounded-lg shadow-lg z-50';
            toast.textContent = message;
            
            // æ·»åŠ åˆ°é¡µé¢
            document.body.appendChild(toast);
            
            // æ·¡å‡ºåŠ¨ç”»
            setTimeout(() => {
                toast.style.opacity = '0';
                toast.style.transition = 'opacity 0.5s ease';
                
                // åŠ¨ç”»ç»“æŸåç§»é™¤
                setTimeout(() => {
                    toast.remove();
                }, 500);
            }, 2000);
        }
        
        // åˆå§‹åŒ–è¶£å‘³äº’åŠ¨æ¸¸æˆ
        function initFunGames() {
            // åˆå§‹åŒ–æ•°å­—é…å¯¹æ¸¸æˆ
            initMemoryGame();
            
            // åˆå§‹åŒ–çœŸå¿ƒè¯å¤§å†’é™©
            initTruthOrDare();
            
            // åˆå§‹åŒ–æ˜Ÿåº§é…å¯¹
            initZodiacMatch();
            
            // åˆå§‹åŒ–å¹¸è¿ç­¾
            initFortuneScroll();
            
            // åˆå§‹åŒ–æ€§æ ¼æµ‹è¯•
            initPersonalityTest();
        }
        
        // åˆå§‹åŒ–æ•°å­—é…å¯¹æ¸¸æˆ
        function initMemoryGame() {
            const memoryGame = document.getElementById('memory-game');
            const startMemoryGameBtn = document.getElementById('start-memory-game');
            const memoryScoreElement = document.getElementById('memory-score');
            
            // å¼€å§‹æ¸¸æˆæŒ‰é’®ç‚¹å‡»äº‹ä»¶
            startMemoryGameBtn.addEventListener('click', () => {
                if (!gameStarted) {
                    startMemoryGame();
                } else {
                    resetMemoryGame();
                }
            });
            
            // å¼€å§‹æ¸¸æˆ
            function startMemoryGame() {
                gameStarted = true;
                startMemoryGameBtn.textContent = 'é‡æ–°å¼€å§‹';
                memoryScore = 0;
                memoryScoreElement.textContent = memoryScore;
                matchedPairs = 0;
                flippedCards = [];
                
                // æ‰“ä¹±å¡ç‰‡é¡ºåº
                const shuffledCards = [...memoryCards].sort(() => Math.random() - 0.5);
                
                // åˆ›å»ºå¡ç‰‡
                memoryGame.innerHTML = '';
                shuffledCards.forEach((card, index) => {
                    const cardElement = document.createElement('div');
                    cardElement.className = 'memory-card bg-gradient-to-r from-primary to-secondary rounded-lg h-16 flex items-center justify-center cursor-pointer transform transition-transform hover:scale-105';
                    cardElement.dataset.value = card;
                    cardElement.dataset.index = index;
                    cardElement.innerHTML = '<span class="text-white text-xl font-bold hidden">?</span>';
                    
                    cardElement.addEventListener('click', () => flipCard(cardElement));
                    memoryGame.appendChild(cardElement);
                });
                
                // å¼€å§‹è®¡æ—¶
                seconds = 0;
                clearInterval(timer);
                timer = setInterval(() => {
                    seconds++;
                }, 1000);
            }
            
            // ç¿»ç‰Œ
            function flipCard(card) {
                // å¦‚æœå¡ç‰‡å·²ç»ç¿»å¼€æˆ–è€…å·²ç»åŒ¹é…ï¼Œåˆ™ä¸åšä»»ä½•æ“ä½œ
                if (card.classList.contains('flipped') || card.classList.contains('matched') || flippedCards.length >= 2) {
                    return;
                }
                
                // ç¿»å¼€å¡ç‰‡
                card.classList.add('flipped');
                card.innerHTML = `<span class="text-white text-xl font-bold">${card.dataset.value}</span>`;
                flippedCards.push(card);
                
                // å¦‚æœç¿»å¼€äº†ä¸¤å¼ å¡ç‰‡ï¼Œæ£€æŸ¥æ˜¯å¦åŒ¹é…
                if (flippedCards.length === 2) {
                    setTimeout(checkMatch, 1000);
                }
            }
            
            // æ£€æŸ¥åŒ¹é…
            function checkMatch() {
                const card1 = flippedCards[0];
                const card2 = flippedCards[1];
                
                if (card1.dataset.value === card2.dataset.value) {
                    // åŒ¹é…æˆåŠŸ
                    card1.classList.add('matched');
                    card2.classList.add('matched');
                    matchedPairs++;
                    memoryScore += 10;
                    memoryScoreElement.textContent = memoryScore;
                    
                    // åˆ›å»ºçˆ±å¿ƒåŠ¨ç”»
                    createHeart();
                    
                    // æ£€æŸ¥æ¸¸æˆæ˜¯å¦ç»“æŸ
                    if (matchedPairs === memoryCards.length / 2) {
                        clearInterval(timer);
                        setTimeout(() => {
                            alert(`æ­å–œä½ å®Œæˆäº†æ¸¸æˆï¼ç”¨æ—¶: ${seconds}ç§’ï¼Œå¾—åˆ†: ${memoryScore}`);
                            increaseAffection(10);
                        }, 500);
                    }
                } else {
                    // åŒ¹é…å¤±è´¥ï¼Œç¿»å›å¡ç‰‡
                    card1.classList.remove('flipped');
                    card2.classList.remove('flipped');
                    card1.innerHTML = '<span class="text-white text-xl font-bold hidden">?</span>';
                    card2.innerHTML = '<span class="text-white text-xl font-bold hidden">?</span>';
                    memoryScore = Math.max(0, memoryScore - 2);
                    memoryScoreElement.textContent = memoryScore;
                }
                
                flippedCards = [];
            }
            
            // é‡ç½®æ¸¸æˆ
            function resetMemoryGame() {
                clearInterval(timer);
                gameStarted = false;
                startMemoryGameBtn.textContent = 'å¼€å§‹æ¸¸æˆ';
                memoryGame.innerHTML = '';
                memoryScoreElement.textContent = '0';
            }
        }
        
        // åˆå§‹åŒ–çœŸå¿ƒè¯å¤§å†’é™©
        function initTruthOrDare() {
            const truthBtn = document.getElementById('truth-btn');
            const dareBtn = document.getElementById('dare-btn');
            const truthDareText = document.getElementById('truth-dare-text');
            
            // çœŸå¿ƒè¯æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            truthBtn.addEventListener('click', () => {
                const randomQuestion = truthQuestions[Math.floor(Math.random() * truthQuestions.length)];
                truthDareText.textContent = randomQuestion;
                
                // å¢åŠ çˆ±å¿ƒæŒ‡æ•°
                increaseAffection(3);
                
                // åˆ›å»ºçˆ±å¿ƒåŠ¨ç”»
                createHeart();
            });
            
            // å¤§å†’é™©æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            dareBtn.addEventListener('click', () => {
                const randomTask = dareTasks[Math.floor(Math.random() * dareTasks.length)];
                truthDareText.textContent = randomTask;
                
                // å¢åŠ çˆ±å¿ƒæŒ‡æ•°
                increaseAffection(5);
                
                // åˆ›å»ºçˆ±å¿ƒåŠ¨ç”»
                createHeart();
            });
        }
        
        // åˆå§‹åŒ–æ˜Ÿåº§é…å¯¹
        function initZodiacMatch() {
            const yourZodiac = document.getElementById('your-zodiac');
            const hisZodiac = document.getElementById('his-zodiac');
            const matchZodiacBtn = document.getElementById('match-zodiac');
            const zodiacResult = document.getElementById('zodiac-result');
            const zodiacPercentage = document.getElementById('zodiac-percentage');
            const zodiacDescription = document.getElementById('zodiac-description');
            
            // è®¾ç½®é»˜è®¤å€¼
            yourZodiac.value = 'libra'; // å¤©ç§¤åº§
            hisZodiac.value = 'leo'; // ç‹®å­åº§
            
            // å¼€å§‹é…å¯¹æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            matchZodiacBtn.addEventListener('click', () => {
                const yourSign = yourZodiac.value;
                const hisSign = hisZodiac.value;
                
                if (!yourSign || !hisSign) {
                    showToast('è¯·é€‰æ‹©ä¸¤ä¸ªæ˜Ÿåº§');
                    return;
                }
                
                // è·å–é…å¯¹ç»“æœ
                const matchResult = zodiacMatches[yourSign][hisSign];
                
                // æ˜¾ç¤ºç»“æœ
                zodiacPercentage.textContent = `${matchResult.percent}%`;
                zodiacDescription.textContent = matchResult.desc;
                zodiacResult.classList.remove('hidden');
                
                // å¢åŠ çˆ±å¿ƒæŒ‡æ•°
                increaseAffection(5);
                
                // åˆ›å»ºçˆ±å¿ƒåŠ¨ç”»
                createHeart();
                
                // å¦‚æœåŒ¹é…åº¦å¾ˆé«˜ï¼Œæ˜¾ç¤ºåº†ç¥æ•ˆæœ
                if (matchResult.percent >= 90) {
                    setTimeout(() => {
                        createConfetti();
                    }, 1000);
                }
            });
        }
        
        // åˆå§‹åŒ–å¹¸è¿ç­¾
        function initFortuneScroll() {
            const drawFortuneBtn = document.getElementById('draw-fortune');
            const fortuneScroll = document.getElementById('fortune-scroll');
            
            // æŠ½å–å¹¸è¿ç­¾æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            drawFortuneBtn.addEventListener('click', () => {
                // æ˜¾ç¤ºæŠ½å–åŠ¨ç”»
                fortuneScroll.innerHTML = '<div class="animate-spin"><i class="fa fa-refresh text-3xl text-primary"></i></div>';
                
                // å»¶è¿Ÿæ˜¾ç¤ºç»“æœ
                setTimeout(() => {
                    const randomScroll = fortuneScrolls[Math.floor(Math.random() * fortuneScrolls.length)];
                    
                    let iconClass;
                    switch (randomScroll.type) {
                        case 'love':
                            iconClass = 'fa-heart';
                            break;
                        case 'career':
                            iconClass = 'fa-briefcase';
                            break;
                        case 'health':
                            iconClass = 'fa-heartbeat';
                            break;
                        case 'wealth':
                            iconClass = 'fa-money';
                            break;
                        case 'friendship':
                            iconClass = 'fa-users';
                            break;
                        case 'study':
                            iconClass = 'fa-book';
                            break;
                        case 'travel':
                            iconClass = 'fa-plane';
                            break;
                        case 'family':
                            iconClass = 'fa-home';
                            break;
                        case 'luck':
                            iconClass = 'fa-star';
                            break;
                        case 'happiness':
                            iconClass = 'fa-smile-o';
                            break;
                        default:
                            iconClass = 'fa-ticket';
                    }
                    
                    fortuneScroll.innerHTML = `
                        <div class="flex flex-col items-center">
                            <div class="w-16 h-16 rounded-full bg-gradient-to-r from-primary to-secondary flex items-center justify-center mb-4">
                                <i class="fa ${iconClass} text-white text-2xl"></i>
                            </div>
                            <p class="text-lg font-medium">${randomScroll.text}</p>
                        </div>
                    `;
                    
                    // å¢åŠ çˆ±å¿ƒæŒ‡æ•°
                    increaseAffection(3);
                    
                    // åˆ›å»ºçˆ±å¿ƒåŠ¨ç”»
                    createHeart();
                }, 1000);
            });
        }
        
        // åˆå§‹åŒ–æ€§æ ¼æµ‹è¯•
        function initPersonalityTest() {
            const startTestBtn = document.getElementById('start-test');
            const testStart = document.getElementById('test-start');
            const testQuestions = document.getElementById('test-questions');
            const testResult = document.getElementById('test-result');
            const questionText = document.getElementById('question-text-personality');
            const questionProgress = document.getElementById('question-progress');
            const questionContent = document.getElementById('personality-question-content');
            const optionsContainer = document.getElementById('personality-options');
            const prevQuestionBtn = document.getElementById('prev-personality-question');
            const nextQuestionBtn = document.getElementById('next-personality-question');
            const retryTestBtn = document.getElementById('retry-test');
            const shareResultBtn = document.getElementById('share-result');
            const resultIcon = document.getElementById('result-icon');
            const resultTitle = document.getElementById('result-title');
            const resultType = document.getElementById('result-type');
            const resultDescription = document.getElementById('result-description');
            const resultStrengths = document.getElementById('result-strengths');
            const resultGifts = document.getElementById('result-gifts');
            
            // æ€§æ ¼æµ‹è¯•é—®é¢˜
            const personalityQuestions = [
                {
                    text: "åœ¨æœ‹å‹èšä¼šä¸­ï¼Œä½ é€šå¸¸æ˜¯ï¼š",
                    options: [
                        "æ´»è·ƒæ°”æ°›çš„ä¸­å¿ƒäººç‰©",
                        "å®‰é™è§‚å¯Ÿçš„äºº",
                        "ä¸å‡ ä¸ªäººæ·±å…¥äº¤æµçš„äºº",
                        "æ ¹æ®åœºåˆå˜åŒ–çš„äºº"
                    ]
                },
                {
                    text: "å½“ä½ é‡åˆ°å›°éš¾æ—¶ï¼Œä½ å€¾å‘äºï¼š",
                    options: [
                        "ç›´æ¥é¢å¯¹å¹¶è§£å†³é—®é¢˜",
                        "å¯»æ±‚ä»–äººçš„å¸®åŠ©",
                        "å†·é™åˆ†æåå†è¡ŒåŠ¨",
                        "æš‚æ—¶æ”¾ä¸‹ï¼Œç¨åå†å¤„ç†"
                    ]
                },
                {
                    text: "ä½ æ›´å–œæ¬¢çš„ä¼‘é—²æ–¹å¼æ˜¯ï¼š",
                    options: [
                        "å‚åŠ æˆ·å¤–æ´»åŠ¨æˆ–è¿åŠ¨",
                        "åœ¨å®¶çœ‹ä¹¦æˆ–çœ‹ç”µå½±",
                        "ä¸æœ‹å‹èšä¼š",
                        "å°è¯•æ–°çš„äº‹ç‰©æˆ–çˆ±å¥½"
                    ]
                },
                {
                    text: "åœ¨å·¥ä½œä¸­ï¼Œä½ æ›´æ³¨é‡ï¼š",
                    options: [
                        "å®Œæˆä»»åŠ¡çš„é€Ÿåº¦",
                        "å·¥ä½œçš„è´¨é‡å’Œç»†èŠ‚",
                        "ä¸å›¢é˜Ÿçš„åˆä½œ",
                        "åˆ›æ–°å’Œæ–°æƒ³æ³•"
                    ]
                },
                {
                    text: "ä½ åšå†³å®šæ—¶é€šå¸¸ä¼šï¼š",
                    options: [
                        "å‡­ç›´è§‰å¿«é€Ÿå†³å®š",
                        "ä»”ç»†åˆ†ææ‰€æœ‰ä¿¡æ¯",
                        "è€ƒè™‘ä»–äººçš„æ„Ÿå—å’Œæ„è§",
                        "æƒè¡¡åˆ©å¼Šåå†³å®š"
                    ]
                }
            ];
            
            // æ€§æ ¼ç±»å‹
            const personalityTypes = [
                {
                    name: "é˜³å…‰å¼€æœ—å‹",
                    icon: "fa-sun-o",
                    description: "ä½ æ˜¯ä¸€ä¸ªä¹è§‚å¼€æœ—çš„äººï¼Œæ€»æ˜¯å……æ»¡æ´»åŠ›å’Œæ­£èƒ½é‡ã€‚ä½ å–œæ¬¢ä¸äººäº¤å¾€ï¼Œå–„äºè¡¨è¾¾è‡ªå·±ï¼Œèƒ½å¤Ÿå¸¦ç»™å‘¨å›´çš„äººå¿«ä¹ã€‚",
                    strengths: ["ä¹è§‚ç§¯æ", "å–„äºæ²Ÿé€š", "å¯Œæœ‰åˆ›é€ åŠ›", "é€‚åº”èƒ½åŠ›å¼º"],
                    gifts: ["é²œèŠ±æˆ–æ¤ç‰©", "æœ‰è¶£çš„ä¹¦ç±æˆ–ç”µå½±", "ç¤¾äº¤æ´»åŠ¨é—¨ç¥¨", "ä¸ªæ€§åŒ–é¥°å“"]
                },
                {
                    name: "æ¸©æŸ”ä½“è´´å‹",
                    icon: "fa-heart",
                    description: "ä½ æ˜¯ä¸€ä¸ªæ¸©æŸ”ä½“è´´çš„äººï¼Œå–„äºå…³å¿ƒå’Œç…§é¡¾ä»–äººã€‚ä½ å¿ƒæ€ç»†è…»ï¼Œèƒ½å¤Ÿæ•é”åœ°å¯Ÿè§‰åˆ°ä»–äººçš„éœ€è¦ï¼Œå¹¶ç»™äºˆå¸®åŠ©å’Œæ”¯æŒã€‚",
                    strengths: ["å–„è§£äººæ„", "æœ‰åŒç†å¿ƒ", "ä¹äºåŠ©äºº", "å¯Œæœ‰è€å¿ƒ"],
                    gifts: ["æ‰‹å·¥åˆ¶å“", "èˆ’é€‚çš„å®¶å±…ç”¨å“", "SPAæˆ–æ”¾æ¾ä½“éªŒ", "ä¸ªæ€§åŒ–ç›¸å†Œ"]
                },
                {
                    name: "ç†æ€§åˆ†æå‹",
                    icon: "fa-brain",
                    description: "ä½ æ˜¯ä¸€ä¸ªç†æ€§åˆ†æçš„äººï¼Œå–„äºæ€è€ƒå’Œè§£å†³é—®é¢˜ã€‚ä½ é€»è¾‘æ€ç»´èƒ½åŠ›å¼ºï¼Œåšäº‹æœ‰æ¡ç†ï¼Œèƒ½å¤Ÿåœ¨å¤æ‚çš„æƒ…å†µä¸‹ä¿æŒå†·é™ã€‚",
                    strengths: ["é€»è¾‘æ€ç»´", "åˆ†æèƒ½åŠ›å¼º", "åšäº‹æœ‰æ¡ç†", "å†·é™ç†æ™º"],
                    gifts: ["ä¹¦ç±æˆ–çŸ¥è¯†äº§å“", "ç§‘æŠ€äº§å“", "æ‹¼å›¾æˆ–ç­–ç•¥æ¸¸æˆ", "é«˜è´¨é‡æ–‡å…·"]
                },
                {
                    name: "å†’é™©æ¢ç´¢å‹",
                    icon: "fa-rocket",
                    description: "ä½ æ˜¯ä¸€ä¸ªå–œæ¬¢å†’é™©å’Œæ¢ç´¢çš„äººï¼Œå¯¹æœªçŸ¥çš„äº‹ç‰©å……æ»¡å¥½å¥‡ã€‚ä½ å‹‡äºå°è¯•æ–°äº‹ç‰©ï¼Œå–œæ¬¢æŒ‘æˆ˜è‡ªå·±ï¼Œè¿½æ±‚åˆºæ¿€å’Œæ–°é²œæ„Ÿã€‚",
                    strengths: ["å‹‡äºå†’é™©", "å¯Œæœ‰å¥½å¥‡å¿ƒ", "é€‚åº”æ€§å¼º", "æ•¢äºæŒ‘æˆ˜"],
                    gifts: ["æ—…è¡Œç›¸å…³äº§å“", "æˆ·å¤–è£…å¤‡", "ä½“éªŒç±»ç¤¼ç‰©", "æ¢é™©ä¹¦ç±"]
                },
                {
                    name: "å¹³è¡¡å’Œè°å‹",
                    icon: "fa-balance-scale",
                    description: "ä½ æ˜¯ä¸€ä¸ªè¿½æ±‚å¹³è¡¡å’Œè°çš„äººï¼Œå–„äºåœ¨ä¸åŒçš„è§‚ç‚¹å’Œéœ€æ±‚ä¹‹é—´æ‰¾åˆ°å¹³è¡¡ç‚¹ã€‚ä½ é‡è§†å’Œè°çš„äººé™…å…³ç³»ï¼Œåšäº‹ç¨³é‡å¯é ã€‚",
                    strengths: ["ç¨³é‡å¯é ", "å–„äºåè°ƒ", "æœ‰è´£ä»»æ„Ÿ", "åšäº‹å‘¨å…¨"],
                    gifts: ["å®¶å±…è£…é¥°å“", "èŒ¶å¶æˆ–å’–å•¡", "å¹³è¡¡ç”Ÿæ´»ç±»ä¹¦ç±", "é«˜è´¨é‡çš„æ—¥å¸¸ç”¨å“"]
                }
            ];
            
            let currentQuestionIndex = 0;
            let answers = [];
            
            // å¼€å§‹æµ‹è¯•æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            startTestBtn.addEventListener('click', () => {
                testStart.classList.add('hidden');
                testQuestions.classList.remove('hidden');
                showQuestion(0);
            });
            
            // ä¸Šä¸€é¢˜æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            prevQuestionBtn.addEventListener('click', () => {
                if (currentQuestionIndex > 0) {
                    currentQuestionIndex--;
                    showQuestion(currentQuestionIndex);
                }
            });
            
            // ä¸‹ä¸€é¢˜æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            nextQuestionBtn.addEventListener('click', () => {
                if (currentQuestionIndex < personalityQuestions.length - 1) {
                    // æ£€æŸ¥æ˜¯å¦é€‰æ‹©äº†é€‰é¡¹
                    const selectedOption = document.querySelector('input[name="personality-option"]:checked');
                    if (!selectedOption) {
                        showToast('è¯·é€‰æ‹©ä¸€ä¸ªé€‰é¡¹');
                        return;
                    }
                    
                    // ä¿å­˜ç­”æ¡ˆ
                    answers[currentQuestionIndex] = parseInt(selectedOption.value);
                    
                    currentQuestionIndex++;
                    showQuestion(currentQuestionIndex);
                } else {
                    // æœ€åä¸€é¢˜ï¼Œæäº¤ç­”æ¡ˆ
                    const selectedOption = document.querySelector('input[name="personality-option"]:checked');
                    if (!selectedOption) {
                        showToast('è¯·é€‰æ‹©ä¸€ä¸ªé€‰é¡¹');
                        return;
                    }
                    
                    // ä¿å­˜ç­”æ¡ˆ
                    answers[currentQuestionIndex] = parseInt(selectedOption.value);
                    
                    // è®¡ç®—ç»“æœ
                    showResult();
                }
            });
            
            // é‡æ–°æµ‹è¯•æŒ‰é’®ç‚¹å‡»äº‹ä»¶
            retryTestBtn.addEventListener('click', () => {
                testResult.classList.add('hidden');
                testStart.classList.remove('hidden');
                currentQuestionIndex = 0;
                answers = [];
            });
            
            // åˆ†äº«ç»“æœæŒ‰é’®ç‚¹å‡»äº‹ä»¶
            shareResultBtn.addEventListener('click', () => {
                showToast('ç»“æœå·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
                // è¿™é‡Œå¯ä»¥æ·»åŠ å¤åˆ¶åˆ°å‰ªè´´æ¿çš„åŠŸèƒ½
            });
            
            // æ˜¾ç¤ºé—®é¢˜
            function showQuestion(index) {
                const question = personalityQuestions[index];
                
                questionText.textContent = question.text;
                questionProgress.textContent = `${index + 1}/${personalityQuestions.length}`;
                questionContent.textContent = question.text;
                
                // åˆ›å»ºé€‰é¡¹
                optionsContainer.innerHTML = '';
                question.options.forEach((option, i) => {
                    const optionDiv = document.createElement('div');
                    optionDiv.className = 'flex items-center';
                    optionDiv.innerHTML = `
                        <input type="radio" id="personality-option-${i}" name="personality-option" value="${i}" class="mr-2" ${answers[index] === i ? 'checked' : ''}>
                        <label for="personality-option-${i}">${option}</label>
                    `;
                    optionsContainer.appendChild(optionDiv);
                });
                
                // æ›´æ–°æŒ‰é’®çŠ¶æ€
                prevQuestionBtn.disabled = index === 0;
                nextQuestionBtn.textContent = index === personalityQuestions.length - 1 ? 'æŸ¥çœ‹ç»“æœ' : 'ä¸‹ä¸€é¢˜';
            }
            
            // æ˜¾ç¤ºç»“æœ
            function showResult() {
                testQuestions.classList.add('hidden');
                testResult.classList.remove('hidden');
                
                // è®¡ç®—å¾—åˆ†ï¼ˆè¿™é‡Œç®€åŒ–å¤„ç†ï¼Œå®é™…åº”ç”¨ä¸­å¯ä»¥æ ¹æ®æ›´å¤æ‚çš„ç®—æ³•è®¡ç®—ï¼‰
                const totalScore = answers.reduce((sum, score) => sum + score, 0);
                const typeIndex = totalScore % personalityTypes.length;
                const personalityType = personalityTypes[typeIndex];
                
                // æ˜¾ç¤ºç»“æœ
                resultIcon.innerHTML = `<i class="fa ${personalityType.icon} text-white text-4xl"></i>`;
                resultTitle.textContent = 'æµ‹è¯•ç»“æœ';
                resultType.textContent = `ä½ æ˜¯ ${personalityType.name}`;
                resultDescription.textContent = personalityType.description;
                
                // æ˜¾ç¤ºä¼˜ç‚¹
                resultStrengths.innerHTML = '';
                personalityType.strengths.forEach(strength => {
                    const li = document.createElement('li');
                    li.textContent = strength;
                    resultStrengths.appendChild(li);
                });
                
                // æ˜¾ç¤ºé€‚åˆçš„ç¤¼ç‰©
                resultGifts.innerHTML = '';
                personalityType.gifts.forEach(gift => {
                    const li = document.createElement('li');
                    li.textContent = gift;
                    resultGifts.appendChild(li);
                });
                
                // å¢åŠ çˆ±å¿ƒæŒ‡æ•°
                increaseAffection(10);
                
                // åˆ›å»ºåº†ç¥æ•ˆæœ
                createConfetti();
            }
        }
        
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        window.addEventListener('DOMContentLoaded', () => {
            init();
            initFunGames();
        });
    </script>
</body>
</html>
